---
aliases:
  - generating function
  - generating functions
tags:
  - flashcard/active/general/generating_function
  - language/in/English
---

# generating function

- This article is about {@{generating functions in mathematics}@}. For generating functions in classical mechanics, see [generating function (physics)](generating%20function%20(physics).md). For generators in computer programming, see [generator (computer programming)](generator%20(computer%20programming).md). For the moment generating function in statistics, see [moment generating function](moment-generating%20function.md). <!--SR:!2024-12-30,60,310-->

In [mathematics](mathematics.md), a __generating function__ is {@{a representation of an [infinite sequence](sequence.md) of numbers as the [coefficients](coefficient.md) of a [formal power series](formal%20power%20series.md)}@}. Generating functions are often {@{expressed in [closed form](closed-form%20expression.md) (rather than as a series), by some expression involving operations on the formal series}@}. <!--SR:!2025-03-28,124,310!2025-01-13,71,310-->

There are {@{various types of generating functions}@}, including {@{__ordinary generating functions__, __exponential generating functions__, __Lambert series__, __Bell series__, and __Dirichlet series__}@}. Every sequence in principle {@{has a generating function of each type (except that Lambert and Dirichlet series require indices to start at 1 rather than 0)}@}, but {@{the ease with which they can be handled may differ considerably}@}. The particular generating function, if any, that is most useful in a given context will {@{depend upon the nature of the sequence and the details of the problem being addressed}@}. <!--SR:!2025-01-13,71,310!2024-12-02,36,290!2024-12-16,47,290!2025-01-13,71,310!2024-12-25,52,290-->

Generating functions are sometimes called {@{__generating series__}@},<sup>[\[1\]](#^ref-1)</sup> in that {@{a series of terms can be said to be the generator of its sequence of term coefficients}@}. <!--SR:!2025-01-13,71,310!2024-12-31,62,310-->

## history

Generating functions were first introduced by [Abraham de Moivre](Abraham%20de%20Moivre.md) in 1730, in order to solve the general linear recurrence problem.<sup>[\[2\]](#^ref-2)</sup>

[George Pólya](George%20Pólya.md) writes in _[Mathematics and plausible reasoning](Mathematics%20and%20Plausible%20Reasoning.md)_:

> _The name "generating function" is due to [Laplace](Pierre-Simon%20Laplace.md). Yet, without giving it a name, [Euler](Leonhard%20Euler.md) used the device of generating functions long before Laplace [..]. He applied this mathematical tool to several problems in Combinatory Analysis and the [Theory of Numbers](number%20theory.md)._

## definition

> _A generating function is {@{a device somewhat similar to a bag}@}. Instead of carrying many little objects detachedly, which could be embarrassing, we {@{put them all in a bag, and then we have only one object to carry, the bag}@}._ <!--SR:!2025-01-13,71,310!2024-12-30,60,310-->

— [George Pólya](George%20Pólya.md), _[Mathematics and plausible reasoning](Mathematics%20and%20Plausible%20Reasoning.md)_ (1954)

> _A generating function is {@{a clothesline on which we hang up a sequence of numbers}@} for display._ <!--SR:!2024-12-31,62,310-->

— [Herbert Wilf](Herbert%20Wilf.md), _[Generatingfunctionology](http://www.math.upenn.edu/~wilf/DownldGF.html)_ (1994)

### convergence

Unlike an ordinary series, the _formal_ [power series](power%20series.md) is {@{not required to [converge](convergent%20series.md)}@}: in fact, the generating function is {@{not actually regarded as a [function](function%20(mathematics).md), and the "variable" remains an [indeterminate](indeterminate%20(variable).md)}@}. One can generalize to {@{formal power series in more than one indeterminate, to encode information about infinite multi-dimensional arrays of numbers}@}. Thus generating functions are {@{not functions in the formal sense of a mapping from a [domain](domain%20of%20a%20function.md) to a [codomain](codomain.md)}@}. <!--SR:!2024-12-30,60,310!2024-12-31,62,310!2024-12-31,62,310!2024-12-02,36,290-->

These expressions in terms of the indeterminate _x_ may involve {@{arithmetic operations, differentiation with respect to _x_ and composition with (i.e., substitution into) other generating functions}@}; since {@{these operations are also defined for functions}@}, the result {@{looks like a function of _x_}@}. Indeed, the closed form expression can often {@{be interpreted as a function that can be evaluated at (sufficiently small) concrete values of _x_}@}, and which has {@{the formal series as its [series expansion](series%20expansion.md)}@}; this explains the designation "generating functions". However such interpretation is {@{not required to be possible, because formal series are not required to give a [convergent series](convergent%20series.md) when a nonzero numeric value is substituted for _x_}@}. <!--SR:!2024-12-31,62,310!2024-12-02,36,290!2024-12-30,60,310!2025-01-13,71,310!2024-12-30,60,310!2025-01-13,71,310-->

### limitations

Not all expressions that are {@{meaningful as functions of _x_}@} are {@{meaningful as expressions designating formal series}@}; for example, {@{negative and fractional powers of _x_ are examples of functions that do not have a corresponding formal power series}@}. <!--SR:!2024-12-31,62,310!2024-12-30,60,310!2024-12-30,60,310-->

## types

### ordinary generating function (OGF)

When the term _generating function_ is used without qualification, it is usually {@{taken to mean an ordinary generating function}@}. The _ordinary generating function_ of {@{a sequence _a_<sub>_n_</sub>}@} is: {@{$$G(a_{n};x)=\sum _{n=0}^{\infty }a_{n}x^{n}\,.$$}@} If {@{_a_<sub>_n_</sub> is the [probability mass function](probability%20mass%20function.md) of a [discrete random variable](random%20variable.md#discrete%20random%20variable)}@}, then its ordinary generating function is {@{called a [probability-generating function](probability-generating%20function.md)}@}. <!--SR:!2024-12-31,62,310!2025-01-13,71,310!2025-01-02,64,310!2025-03-31,127,310!2024-12-02,36,290-->

### exponential generating function (EGF)

The _exponential generating function_ of {@{a sequence _a_<sub>_n_</sub>}@} is {@{$$\operatorname {EG} (a_{n};x)=\sum _{n=0}^{\infty }a_{n}{\frac {x^{n} }{n!} }\,.$$}@} <!--SR:!2025-01-13,71,310!2025-01-13,71,310-->

Exponential generating functions are generally {@{more convenient than ordinary generating functions for [combinatorial enumeration](enumerative%20combinatorics.md) problems that involve labelled objects}@}.<sup>[\[3\]](#^ref-3)</sup> <!--SR:!2025-02-22,96,290-->

Another benefit of exponential generating functions is that they are {@{useful in transferring linear [recurrence relations](recurrence%20relation.md) to the realm of [differential equations](differential%20equation.md)}@}. For example, take {@{the [Fibonacci sequence](fibonacci%20sequence.md) {_f<sub>n</sub>_} that satisfies the linear recurrence relation _f_<sub>_n_+2</sub> = _f_<sub>_n_+1</sub> + _f_<sub>_n_</sub>}@}. The corresponding exponential generating function has the form {@{$$\operatorname {EF} (x)=\sum _{n=0}^{\infty }{\frac {f_{n} }{n!} }x^{n}$$}@} and its derivatives can {@{readily be shown to satisfy the differential equation EF″(_x_) = EF′(_x_) + EF(_x_) as a direct analogue with the recurrence relation above}@}. In this view, {@{the factorial term _n_!}@} is {@{merely a counter-term to normalise the derivative operator acting on _x_<sup>_n_</sup>}@}. <!--SR:!2024-12-31,62,310!2025-01-02,64,310!2024-12-30,60,310!2024-12-31,62,310!2024-12-02,36,290!2025-01-13,71,310-->

### Poisson generating function

The _Poisson generating function_ of {@{a sequence _a_<sub>_n_</sub>}@} is {@{$$\operatorname {PG} (a_{n};x)=\sum _{n=0}^{\infty }a_{n}e^{-x}{\frac {x^{n} }{n!} }=e^{-x}\,\operatorname {EG} (a_{n};x)\,.$$}@} <!--SR:!2024-12-02,36,290!2025-01-07,55,270-->

### Lambert series

- see: [Lambert series](Lambert%20series.md)

The _Lambert series_ of {@{a sequence _a_<sub>_n_</sub>}@} is {@{$$\operatorname {LG} (a_{n};x)=\sum _{n=1}^{\infty }a_{n}{\frac {x^{n} }{1-x^{n} } }\,.$$}@} Note that in a Lambert series {@{the index _n_ starts at 1, not at 0, as the first term would otherwise be undefined}@}. <!--SR:!2024-12-30,60,310!2025-01-07,55,270!2025-01-13,71,310-->

The Lambert series coefficients in the power series expansions {@{$$b_{n}:=[x^{n}]\operatorname {LG} (a_{n};x)$$ (where $[x^n]$ means extracting the coefficient of the indeterminate $x^n$) for integers _n_ ≥ 1}@} are {@{related by the [divisor sum](divisor%20sum%20identities.md) $$b_{n}=\sum _{d|n}a_{d}\,.$$}@} <!--SR:!2025-03-03,101,290!2025-01-27,68,270-->

> [!tip] tips
>
> - Why does the power series expansion of a Lambert series relate to the divisor sum? ::@:: Use the Maclaurin series of $\frac 1 {1 - x}$: $$\begin{aligned} \operatorname {LG} (a_{n};x) & = \sum _{n=1}^{+\infty }a_{n}{\frac {x^{n} }{1-x^{n} } } \\ & = \sum_{n = 1}^{+\infty} a_n x^n \sum_{k = 0}^{+\infty} x^{nk} \\ & = \sum_{n = 1}^{+\infty} a_n \sum_{k = 1}^{+\infty} x^{nk} \end{aligned}$$. Then we can see the sum $\sum_{k = 1}^{+\infty} x^{nk}$ spreads the $a_n$ term to $x^{nk}$ for all $k \ge 1$. This is how the divisor sum relates to the Lambert series. <!--SR:!2024-12-02,36,290!2025-02-23,97,290-->

The [main article](lambert%20series.md) provides {@{several more classical, or at least well-known examples related to special [arithmetic functions](arithmetic%20function.md) in [number theory](number%20theory.md)}@}. As an example of a Lambert series identity not given in the main article, we can show that {@{for |_x_|, |_xq_| < 1}@} we have that<sup>[\[4\]](#^ref-4)</sup> {@{$$\sum _{n=1}^{\infty }{\frac {q^{n}x^{n} }{1-x^{n} } }=\sum _{n=1}^{\infty }{\frac {q^{n}x^{n^{2} } }{1-qx^{n} } }+\sum _{n=1}^{\infty }{\frac {q^{n}x^{n(n+1)} }{1-x^{n} } }\,,$$}@} where we have the special case identity for {@{the generating function of the [divisor function](divisor%20function.md), _d_(_n_) ≡ _σ_<sub>0</sub>(_n_)}@}, given by {@{$$\sum _{n=1}^{\infty }{\frac {x^{n} }{1-x^{n} } }=\sum _{n=1}^{\infty }{\frac {x^{n^{2} }\left(1+x^{n}\right)}{1-x^{n} } }\,.$$}@} <!--SR:!2025-01-13,71,310!2025-03-29,125,310!2024-12-08,20,230!2024-12-02,36,290!2024-12-20,41,250-->

> [!tip] tips
>
> - strategy for proving $$\sum _{n=1}^{\infty }{\frac {q^{n}x^{n} }{1-x^{n} } }=\sum _{n=1}^{\infty }{\frac {q^{n}x^{n^{2} } }{1-qx^{n} } }+\sum _{n=1}^{\infty }{\frac {q^{n}x^{n(n+1)} }{1-x^{n} } }$$ ::@:: Apply Maclaurin series on the three sums and rearrange the sums to become divisor sums. Rearranging the sums to become divisor sums is more complicated then it seems, and is best visualized using a grid. <!--SR:!2025-02-03,74,270!2025-01-22,65,270-->

### Bell series

The [Bell series](bell%20series.md) of {@{a sequence _a_<sub>_n_</sub>}@} is an expression in terms of {@{both an indeterminate _x_ and a prime _p_}@} and is given by:<sup>[\[5\]](#^ref-5)</sup> {@{$$\operatorname {BG} _{p}(a_{n};x)=\sum _{n=0}^{\infty }a_{p^{n} }x^{n}\,.$$}@} <!--SR:!2024-12-30,60,310!2025-03-24,119,310!2024-12-16,36,230-->

### Dirichlet series generating functions (DGFs)

[Formal Dirichlet series](dirichlet%20series.md#Formal%20Dirichlet%20series) are often {@{classified as generating functions, although they are not strictly formal power series}@}. The _Dirichlet series generating function_ of {@{a sequence _a_<sub>_n_</sub>}@} is:<sup>[\[6\]](#^ref-6)</sup> {@{$$\operatorname {DG} (a_{n};s)=\sum _{n=1}^{\infty }{\frac {a_{n} }{n^{s} } }\,.$$}@} <!--SR:!2025-01-02,64,310!2024-12-31,62,310!2024-12-28,39,210-->

The Dirichlet series generating function is especially useful when {@{_a_<sub>_n_</sub> is a [multiplicative function](multiplicative%20function.md)}@}, in which case {@{it has an [Euler product](euler%20product.md) expression<sup>[\[7\]](#^ref-7)</sup> in terms of the function's Bell series}@}: {@{$$\operatorname {DG} (a_{n};s)=\prod _{p}\operatorname {BG} _{p}(a_{n};p^{-s})\,.$$}@} <!--SR:!2025-01-04,55,270!2025-01-14,58,250!2024-12-04,15,150-->

If {@{_a_<sub>_n_</sub> is a [Dirichlet character](Dirichlet%20character.md)}@} then {@{its Dirichlet series generating function is called a [Dirichlet _L_-series](Dirichlet%20L-function.md)}@}. We also have a relation between {@{the pair of coefficients in the [Lambert series](Lambert%20series.md) expansions above and their DGFs}@}. Namely, we can prove that: {@{$$[x^{n}]\operatorname {LG} (a_{n};x)=b_{n}$$ if and only if $$\operatorname {DG} (a_{n};s)\zeta (s)=\operatorname {DG} (b_{n};s)\,,$$}@} where {@{_ζ_(_s_) is the [Riemann zeta function](riemann%20zeta%20function.md)}@}.<sup>[\[8\]](#^ref-8)</sup> <!--SR:!2024-12-02,36,290!2024-12-25,52,290!2025-01-26,69,270!2024-12-17,37,230!2024-12-31,62,310-->

{@{The sequence _a<sub>k</sub>_ generated by a [Dirichlet series](Dirichlet%20series.md) generating function (DGF)}@} corresponding to: {@{$$\operatorname {DG} (a_{k};s)=\zeta (s)^{m}$$}@} has the ordinary generating function: {@{$$\sum _{k=1}^{k=n}a_{k}x^{k}=x+{\binom {m}{1} }\sum _{2\leq a\leq n}x^{a}+{\binom {m}{2} }{\underset {ab\leq n}{\sum _{a=2}^{\infty }\sum _{b=2}^{\infty } } }x^{ab}+{\binom {m}{3} }{\underset {abc\leq n}{\sum _{a=2}^{\infty }\sum _{c=2}^{\infty }\sum _{b=2}^{\infty } } }x^{abc}+{\binom {m}{4} }{\underset {abcd\leq n}{\sum _{a=2}^{\infty }\sum _{b=2}^{\infty }\sum _{c=2}^{\infty }\sum _{d=2}^{\infty } } }x^{abcd}+\cdots$$}@} <!--SR:!2025-01-11,58,270!2025-01-03,54,270!2024-12-17,37,230-->

### polynomial sequence generating functions

The idea of generating functions can be {@{extended to sequences of other objects}@}. Thus, for example, {@{polynomial sequences of [binomial type](binomial%20type.md)}@} are generated by: {@{$$e^{xf(t)}=\sum _{n=0}^{\infty }{\frac {p_{n}(x)}{n!} }t^{n}$$}@} where {@{_p_<sub>_n_</sub>(_x_) is a sequence of polynomials and _f_(_t_) is a function of a certain form}@}. {@{[Sheffer sequences](Sheffer%20sequence.md)}@} are generated in a similar way. See the main article [generalized Appell polynomials](Generalized%20Appell%20polynomials.md) for more information. <!--SR:!2024-12-17,48,290!2024-12-30,60,310!2025-02-01,71,270!2025-02-03,73,270!2025-03-28,124,310-->

Examples of [polynomial sequences](polynomial%20sequence.md) generated by more complex generating functions include:

- [Appell polynomials](Appell%20sequence.md)
- [Chebyshev polynomials](Chebyshev%20polynomials.md)
- [difference polynomials](difference%20polynomials.md)
- [generalized Appell polynomials](generalized%20Appell%20polynomials.md)
- [_q_-difference polynomials](q-difference%20polynomial.md)

### other generating functions

Other sequences generated by more complex generating functions include:

- Double exponential generating functions. For example: [Aitken's Array: Triangle of Numbers](https://oeis.org/search?q=1%2C1%2C2%2C2%2C3%2C5%2C5%2C7%2C10%2C15%2C15&sort=&language=&go=Search)
- Hadamard products of generating functions and diagonal generating functions, and their corresponding [integral transformations](generating%20function%20transformation.md#Hadamard%20products%20and%20diagonal%20generating%20functions)

#### convolution polynomials

{@{Knuth's article titled "_Convolution Polynomials_"}@}<sup>[\[9\]](#^ref-9)</sup> defines {@{a generalized class of _convolution polynomial_ sequences by their special generating functions}@} of the form {@{$$F(z)^{x}=\exp {\bigl (}x\log F(z){\bigr )}=\sum _{n=0}^{\infty }f_{n}(x)z^{n}\,,$$}@} for {@{some analytic function _F_ with a power series expansion such that _F_(0) = 1}@}. <!--SR:!2025-01-13,71,310!2025-03-30,126,310!2025-01-26,69,270!2025-01-01,38,270-->

We say that {@{a family of polynomials, _f_<sub>0</sub>, _f_<sub>1</sub>, _f_<sub>2</sub>, ...}@}, forms a _convolution family_ if {@{[deg](degree%20of%20a%20polynomial.md) _f<sub>n</sub>_ ≤ _n_}@} and if the following convolution condition holds for {@{all _x_, _y_ and for all _n_ ≥ 0: $$f_{n}(x+y)=f_{n}(x)f_{0}(y)+f_{n-1}(x)f_{1}(y)+\cdots +f_{1}(x)f_{n-1}(y)+f_{0}(x)f_{n}(y)\,.$$}@} We see that for {@{non-identically zero convolution families}@}, this definition is {@{equivalent to requiring that the sequence have an ordinary generating function of the first form given above}@}. <!--SR:!2024-12-02,36,290!2025-02-03,78,270!2025-01-26,67,270!2024-12-17,48,290!2025-03-03,101,290-->

A sequence of convolution polynomials defined in the notation above has the following properties:

- The sequence _n_! · _f<sub>n</sub>_(_x_) is of [binomial type](binomial%20type.md)
- Special values of the sequence include _f<sub>n</sub>_(1) = [_z<sup>n</sup>_] _F_(_z_) and _f<sub>n</sub>_(0) = _δ_<sub>_n_,0</sub>, and
- For arbitrary (fixed) $x,y,t\in \mathbb {C}$, these polynomials satisfy convolution formulas of the form $${\begin{aligned}f_{n}(x+y)&=\sum _{k=0}^{n}f_{k}(x)f_{n-k}(y)\\f_{n}(2x)&=\sum _{k=0}^{n}f_{k}(x)f_{n-k}(x)\\xnf_{n}(x+y)&=(x+y)\sum _{k=0}^{n}kf_{k}(x)f_{n-k}(y)\\{\frac {(x+y)f_{n}(x+y+tn)}{x+y+tn} }&=\sum _{k=0}^{n}{\frac {xf_{k}(x+tk)}{x+tk} }{\frac {yf_{n-k}(y+t(n-k))}{y+t(n-k)} }.\end{aligned} }$$

For a fixed non-zero parameter $t\in \mathbb {C}$, we have modified generating functions for these convolution polynomial sequences given by $${\frac {zF_{n}(x+tn)}{(x+tn)} }=\left[z^{n}\right]{\mathcal {F} }_{t}(z)^{x}\,,$$ where 𝓕<sub>_t_</sub>(_z_) is implicitly defined by a [functional equation](functional%20equation.md) of the form 𝓕<sub>_t_</sub>(_z_) = _F_(_x_<!-- markdown separator -->𝓕<sub>_t_</sub>(_z_)<sup>_t_</sup>). Moreover, we can use matrix methods (as in the reference) to prove that given two convolution polynomial sequences, ⟨ _f<sub>n</sub>_(_x_) ⟩ and ⟨ _g<sub>n</sub>_(_x_) ⟩, with respective corresponding generating functions, _F_(_z_)<sup>_x_</sup> and _G_(_z_)<sup>_x_</sup>, then for arbitrary _t_ we have the identity $$\left[z^{n}\right]\left(G(z)F\left(zG(z)^{t}\right)\right)^{x}=\sum _{k=0}^{n}F_{k}(x)G_{n-k}(x+tk)\,.$$

Examples of convolution polynomial sequences include the {@{_binomial power series_, 𝓑<sub>_t_</sub>(_z_) = 1 + _z_<!-- markdown separator -->𝓑<sub>_t_</sub>(_z_)<sup>_t_</sup>, so-termed _tree polynomials_}@}, {@{the [Bell numbers](Bell%20number.md), _B_(_n_), the [Laguerre polynomials](Laguerre%20polynomials.md), and the [Stirling convolution polynomials](Stirling%20polynomials.md)}@}. <!--SR:!2024-12-20,40,250!2024-12-21,42,250-->

## ordinary generating functions

### examples for simple sequences

Polynomials are {@{a special case of ordinary generating functions}@}, corresponding to {@{finite sequences, or equivalently sequences that vanish after a certain point}@}. These are important in that {@{many finite sequences can usefully be interpreted as generating functions, such as the [Poincaré polynomial](Betti%20number.md#properties) and others}@}. <!--SR:!2025-01-13,71,310!2025-01-13,71,310!2024-12-02,36,290-->

A fundamental generating function is that of {@{the constant sequence 1, 1, 1, 1, 1, 1, 1, 1, 1, ...}@}, whose ordinary generating function is {@{the [geometric series](geometric%20series.md#closed-form%20formula) $$\sum _{n=0}^{\infty }x^{n}={\frac {1}{1-x} }\,.$$}@} <!--SR:!2025-01-13,71,310!2024-12-31,62,310-->

The left-hand side is {@{the [Maclaurin series](taylor%20series.md) expansion of the right-hand side}@}. Alternatively, the equality can be justified by {@{multiplying the power series on the left by 1 − _x_, and checking that the result is the constant power series 1 (in other words, that all coefficients except the one of _x_<sup>0</sup> are equal to 0)}@}. Moreover, {@{there can be no other power series with this property}@}. The left-hand side therefore {@{designates the [multiplicative inverse](multiplicative%20inverse.md) of 1 − _x_ in the ring of power series}@}. <!--SR:!2025-01-13,71,310!2025-01-13,71,310!2024-12-02,36,290!2025-01-13,71,310-->

Expressions for the ordinary generating function of {@{other sequences are easily derived from this one}@}. For instance, {@{the substitution _x_ → _ax_}@} gives the generating function for the [geometric sequence](geometric%20progression.md) {@{1, _a_, _a_<sup>2</sup>, _a_<sup>3</sup>, ... for any constant _a_}@}: {@{$$\sum _{n=0}^{\infty }(ax)^{n}={\frac {1}{1-ax} }\,.$$}@} <!--SR:!2024-12-31,62,310!2024-12-30,60,310!2025-01-13,71,310!2024-12-31,62,310-->

(The equality also follows directly from the fact that {@{the left-hand side is the Maclaurin series expansion of the right-hand side}@}.) In particular, {@{$$\sum _{n=0}^{\infty }(-1)^{n}x^{n}={\frac {1}{1+x} }\,.$$}@} <!--SR:!2025-03-30,126,310!2025-01-02,64,310-->

One can also {@{introduce regular gaps in the sequence}@} by {@{replacing _x_ by some power of _x_}@}, so for instance for {@{the sequence 1, 0, 1, 0, 1, 0, 1, 0, ... (which skips over _x_, _x_<sup>3</sup>, _x_<sup>5</sup>, ...)}@} one gets the generating function {@{$$\sum _{n=0}^{\infty }x^{2n}={\frac {1}{1-x^{2} } }\,.$$}@} <!--SR:!2024-12-31,62,310!2024-12-31,62,310!2025-01-13,71,310!2024-12-31,62,310-->

By {@{squaring the initial generating function}@}, or by {@{finding the derivative of both sides with respect to _x_ and making a change of running variable _n_ → _n_ + 1}@}, one sees that {@{the coefficients form the sequence 1, 2, 3, 4, 5, ...}@}, so one has {@{$$\sum _{n=0}^{\infty }(n+1)x^{n}={\frac {1}{(1-x)^{2} } }\,,$$}@} <!--SR:!2024-12-30,60,310!2025-01-13,71,310!2025-01-02,64,310!2024-12-30,60,310-->

and the third power has as coefficients {@{the [triangular numbers](triangular%20number.md) 1, 3, 6, 10, 15, 21, ...}@} whose term _n_ is {@{the [binomial coefficient](binomial%20coefficient.md) ($\binom {n + 2} 2$)}@}, so that {@{$$\sum _{n=0}^{\infty }{\binom {n+2}{2} }x^{n}={\frac {1}{(1-x)^{3} } }\,.$$}@} <!--SR:!2024-12-16,47,290!2024-12-02,36,290!2025-02-01,71,270-->

More generally, for {@{any non-negative integer _k_ and non-zero real value _a_}@}, it is true that {@{$$\sum _{n=0}^{\infty }a^{n}{\binom {n+k}{k} }x^{n}={\frac {1}{(1-ax)^{k+1} } }\,.$$}@} <!--SR:!2024-12-31,62,310!2025-02-03,73,270-->

Since {@{$$2{\binom {n+2}{2} }-3{\binom {n+1}{1} }+{\binom {n}{0} }=2{\frac {(n+1)(n+2)}{2} }-3(n+1)+1=n^{2}\,,$$}@} one can find {@{the ordinary generating function for the sequence 0, 1, 4, 9, 16, ... of [square numbers](square%20number.md)}@} by {@{linear combination of binomial-coefficient generating sequences}@}: {@{$$G(n^{2};x)=\sum _{n=0}^{\infty }n^{2}x^{n}={\frac {2}{(1-x)^{3} } }-{\frac {3}{(1-x)^{2} } }+{\frac {1}{1-x} }={\frac {x(x+1)}{(1-x)^{3} } }\,.$$}@} <!--SR:!2024-12-20,41,250!2025-01-13,71,310!2025-02-21,95,290!2025-01-11,58,270-->

We may also {@{expand alternately to generate this same sequence of squares as a sum of derivatives of the [geometric series](geometric%20series.md)}@} in the following form: {@{$${\begin{aligned}G(n^{2};x)&=\sum _{n=0}^{\infty }n^{2}x^{n}\\[4px]&=\sum _{n=0}^{\infty }n(n-1)x^{n}+\sum _{n=0}^{\infty }nx^{n}\\[4px]&=x^{2}D^{2}\left[{\frac {1}{1-x} }\right]+xD\left[{\frac {1}{1-x} }\right]\\[4px]&={\frac {2x^{2} }{(1-x)^{3} } }+{\frac {x}{(1-x)^{2} } }={\frac {x(x+1)}{(1-x)^{3} } }.\end{aligned} }$$}@} <!--SR:!2025-02-19,93,290!2024-12-15,37,230-->

By induction, we can similarly show for {@{positive integers _m_ ≥ 1}@} that<sup>[\[10\]](#^ref-10)</sup><sup>[\[11\]](#^ref-11)</sup> {@{$$n^{m}=\sum _{j=0}^{m}{\begin{Bmatrix}m\\j\end{Bmatrix} }{\frac {n!}{(n-j)!} }\,,$$}@} where {@{<!-- flashcard separator -->{<sup>_n_</sup><sub>_k_</sub>} denote the [Stirling numbers of the second kind](Stirling%20numbers%20of%20the%20second%20kind.md)}@} and where {@{the generating function $$\sum _{n=0}^{\infty }{\frac {n!}{(n-j)!} }\,z^{n}={\frac {j!\cdot z^{j} }{(1-z)^{j+1} } }\,,$$}@} (Annotation: To get the above expression, {@{differentiate $\frac 1 {1 - z} = \sum_{n = 0}^\infty z^n$ for $j$ times. Then multiply $z^j$ to shift the coefficients right}@}.) so that {@{we can form the analogous generating functions over the integral _m_-th powers generalizing the result in the square case above}@}. (Annotation: This means {@{summing the right hand side under $\sum_{j = 0}^m \begin{Bmatrix} m \\ j \end{Bmatrix}$ to get $\sum_{j = 0}^m \begin{Bmatrix} m \\ j \end{Bmatrix} \frac {j! \cdot z^j} {(1 - z)^{j + 1} }$. Then the left hand side, by the linearity of generating functions, turns into $\sum_{n = 0}^\infty \sum_{j = 0}^m \begin{Bmatrix} m \\ j \end{Bmatrix} \frac {n!} {(n - j)!} z^n = \sum_{n = 0}^\infty n^m z^n$, as we desired}@}.) In particular, since we can {@{write $${\frac {z^{j} }{(1-z)^{j+1} } }=\sum _{i=0}^{j}{\binom {j}{i} }{\frac {(-1)^{j-i} }{(1-z)^{i+1} } }\,,$$}@} (Annotation: {@{Decompose the right hand side of the generating function above without the $j!$ into partial fractions.}@}) we can apply a well-known finite sum identity involving the [Stirling numbers](Stirling%20number.md) to obtain that<sup>[\[12\]](#^ref-12)</sup> $$\sum _{n=0}^{\infty }n^{m}z^{n}=\sum _{j=0}^{m}{\begin{Bmatrix}m+1\\j+1\end{Bmatrix} }{\frac {(-1)^{m-j}j!}{(1-z)^{j+1} } }\,.$$ <!--SR:!2025-03-03,101,290!2024-12-16,36,230!2025-01-13,71,310!2025-01-22,65,270!2024-12-29,55,304!2025-01-22,79,324!2025-03-07,105,304!2024-12-29,57,304!2025-01-19,76,324-->

### rational functions

- see: [linear recursive sequence](constant-recursive%20sequence.md)

{@{The ordinary generating function of a sequence can be expressed as a [rational function](rational%20function.md) (the ratio of two finite-degree polynomials)}@} if and only if {@{the sequence is a [linear recursive sequence](constant-recursive%20sequence.md) with constant coefficients}@}; this {@{generalizes the examples above}@}. Conversely, {@{every sequence generated by a fraction of polynomials}@} satisfies {@{a linear recurrence with constant coefficients}@}; these coefficients are {@{identical to the coefficients of the fraction denominator polynomial (so they can be directly read off)}@}. This observation shows {@{it is easy to solve for generating functions of sequences defined by a linear [finite difference equation](finite%20difference.md) with constant coefficients}@}, and then hence, for {@{explicit closed-form formulas for the coefficients of these generating functions}@}. The prototypical example here is to {@{derive [Binet's formula](Fibonacci%20sequence.md#Binet's%20formula) for the [Fibonacci numbers](Fibonacci%20sequence.md) via generating function techniques}@}. <!--SR:!2025-02-20,87,290!2025-01-02,64,310!2024-12-31,62,310!2024-12-25,52,290!2025-03-03,101,290!2025-01-12,59,270!2025-03-27,123,310!2025-03-26,122,310!2025-01-24,67,270-->

We also notice that the class of rational generating functions precisely corresponds to the generating functions that enumerate _quasi-polynomial_ sequences of the form <sup>[\[13\]](#^ref-13)</sup> $$f_{n}=p_{1}(n)\rho _{1}^{n}+\cdots +p_{\ell }(n)\rho _{\ell }^{n}\,,$$ where the reciprocal roots, $\rho _{i}\in \mathbb {C}$, are fixed scalars and where _p_<sub>_i_</sub>(_n_) is a polynomial in _n_ for all 1 ≤ _i_ ≤ _ℓ_.

In general, [Hadamard products](generating%20function%20transformation.md#Hadamard%20products%20and%20diagonal%20generating%20functions) of rational functions produce rational generating functions. Similarly, if $$F(s,t):=\sum _{m,n\geq 0}f(m,n)w^{m}z^{n}$$ is a bivariate rational generating function, then its corresponding _diagonal generating function_ $$\operatorname {diag} (F):=\sum _{n=0}^{\infty }f(n,n)z^{n}\,,$$ is _algebraic_. For example, if we let<sup>[\[14\]](#^ref-14)</sup> $$F(s,t):=\sum _{i,j\geq 0}{\binom {i+j}{i} }s^{i}t^{j}={\frac {1}{1-s-t} }\,,$$ then this generating function's diagonal coefficient generating function is given by the well-known OGF formula $$\operatorname {diag} (F)=\sum _{n=0}^{\infty }{\binom {2n}{n} }z^{n}={\frac {1}{\sqrt {1-4z} } }\,.$$

This result is computed in many ways, including [Cauchy's integral formula](cauchy's%20integral%20formula.md) or [contour integration](contour%20integration.md), taking complex [residues](residue%20(complex%20analysis).md), or by direct manipulations of [formal power series](formal%20power%20series.md) in two variables.

### operations on generating functions

#### multiplication yields convolution

- see: [Cauchy product](Cauchy%20product.md)

Multiplication of ordinary generating functions yields {@{a discrete [convolution](convolution.md) (the [Cauchy product](cauchy%20product.md)) of the sequences}@}. For example, the sequence of {@{cumulative sums (compare to the slightly more general [Euler–Maclaurin formula](Euler–Maclaurin%20formula.md)) $(a_{0},a_{0}+a_{1},a_{0}+a_{1}+a_{2},\ldots )$}@} of a sequence with ordinary generating function _G_(_a<sub>n</sub>_; _x_) has the generating function {@{$$G(a_{n};x)\cdot {\frac {1}{1-x} }$$}@} because {@{$\frac 1 {1 - x}$⁠ is the ordinary generating function for the sequence (1, 1, ...)}@}. See also the [section on convolutions](#Convolution%20(Cauchy%20products)) in the applications section of this article below for further examples of problem solving with convolutions of generating functions and interpretations. <!--SR:!2024-12-31,62,310!2025-02-27,97,290!2024-12-02,36,290!2025-01-13,71,310-->

#### shifting sequence indices

For {@{integers _m_ ≥ 1}@}, we have {@{the following two analogous identities for the modified generating functions enumerating the shifted sequence variants of ⟨ _g_<sub>_n_ − _m_</sub> ⟩ and ⟨ _g_<sub>_n_ + _m_</sub> ⟩}@}, respectively: <!--SR:!2024-12-31,62,310!2024-12-30,60,310-->

- shift coefficients right (to higher order) ::@:: $$z^{m}G(z)=\sum _{n=m}^{\infty }g_{n-m}z^{n}$$ <!--SR:!2025-01-13,71,310!2024-12-25,52,290-->
- discard leading coefficients and shift coefficients left (to lower order) ::@:: $${\frac {G(z)-g_{0}-g_{1}z-\cdots -g_{m-1}z^{m-1} }{z^{m} } }=\sum _{n=0}^{\infty }g_{n+m}z^{n}$$ <!--SR:!2025-03-23,118,310!2025-02-28,98,290-->

#### differentiation and integration of generating functions

We have the following respective power series expansions for the first derivative of a generating function and its integral:

- differentiation ::@:: $$G'(z)=\sum _{n=0}^{\infty }(n+1)g_{n+1}z^{n}\,.$$ The coefficients are shifted left and multiplied by $n + 1$. <!--SR:!2024-12-14,44,290!2024-12-25,52,290-->
- differentiation, unshifted ::@:: $$z\cdot G'(z)=\sum _{n=0}^{\infty }ng_{n}z^{n}\,.$$ The coefficients are not shifted and multiplied by $n$. <!--SR:!2025-01-13,71,310!2024-12-17,48,290-->
- definite integration from $0$ to $z$ ::@:: $$\int _{0}^{z}G(t)\,dt=\sum _{n=1}^{\infty }{\frac {g_{n-1} }{n} }z^{n}\,.$$ The coefficients are shifted right and multiplied by $1 / n$. <!--SR:!2024-12-21,42,250!2025-02-02,72,270-->

The differentiation–multiplication operation of the second identity can be {@{repeated _k_ times to multiply the sequence by _n_<sup>_k_</sup>}@}, but {@{that requires alternating between differentiation and multiplication}@}. If {@{instead doing _k_ differentiations in sequence (differentiate _k_ times then multiply by $z^k$)}@}, the effect is {@{to multiply by the _k_-th [falling factorial](falling%20and%20rising%20factorials.md)}@}: {@{$$z^{k}G^{(k)}(z)=\sum _{n=0}^{\infty }n^{\underline {k} }g_{n}z^{n}=\sum _{n=0}^{\infty }n(n-1)\dotsb (n-k+1)g_{n}z^{n}\quad {\text{for all } }k\in \mathbb {N}\,.$$}@} <!--SR:!2025-01-05,57,270!2025-01-13,71,310!2024-12-25,52,290!2025-01-13,71,310!2025-01-22,65,270-->

Using {@{the [Stirling numbers of the second kind](Stirling%20numbers%20of%20the%20second%20kind.md)}@}, that can be {@{turned into another formula for multiplying by $n^{k}$ as follows}@} (see the main article on [generating function transformations](generating%20function%20transformation.md#derivative%20transformations)): {@{$$\sum _{j=0}^{k}{\begin{Bmatrix}k\\j\end{Bmatrix} }z^{j}F^{(j)}(z)=\sum _{n=0}^{\infty }n^{k}f_{n}z^{n}\quad {\text{for all } }k\in \mathbb {N}\,.$$}@} <!--SR:!2025-03-31,127,310!2025-01-29,70,270!2025-01-22,65,270-->

{@{A negative-order reversal of this sequence powers formula}@} corresponding to {@{the operation of repeated integration}@} is defined by {@{the [zeta series transformation](generating%20function%20transformation.md#derivative%20transformations)}@} and its generalizations defined as a derivative-based [transformation of generating functions](generating%20function%20transformation.md), or alternately termwise by and performing an [integral transformation](generating%20function%20transformation.md#polylogarithm%20series%20transformations) on the sequence generating function. Related operations of performing [fractional integration](fractional%20calculus.md) on a sequence generating function are discussed [here](generating%20function%20transformation.md#fractional%20integrals%20and%20derivatives). <!--SR:!2025-02-02,73,270!2024-12-31,62,310!2024-12-31,62,310-->

#### enumerating arithmetic progressions of sequences

In this section we give formulas for {@{generating functions enumerating the sequence {_f_<sub>_an_ + _b_</sub>} given an ordinary generating function _F_(_z_)}@}, where {@{_a_ ≥ 2, 0 ≤ _b_ < _a_, and _a_ and _b_ are integers}@} (see the [main article on transformations](generating%20function%20transformation.md)). For {@{_a_ = 2}@}, this is {@{simply the familiar decomposition of a function into [even and odd parts](even%20and%20odd%20functions.md) (i.e., even and odd powers)}@}: <!--SR:!2024-12-31,62,310!2025-01-13,71,310!2025-01-13,71,310!2024-12-31,62,310-->

- extract the even part of a generating function ::@:: $$\sum _{n=0}^{\infty }f_{2n}z^{2n}={\frac {F(z)+F(-z)}{2} }$$ <!--SR:!2024-12-31,62,310!2024-12-31,62,310-->
- extract the odd part of a generating function ::@::  $$\sum _{n=0}^{\infty }f_{2n+1}z^{2n+1}={\frac {F(z)-F(-z)}{2} }$$ <!--SR:!2025-01-13,71,310!2025-01-13,71,310-->

More generally, suppose that {@{_a_ ≥ 3 and that $\omega_a = \exp \frac {2\pi i} a$⁠ denotes the _a_-th [primitive root of unity](root%20of%20unity.md)}@}. Then, as {@{an application of the [discrete Fourier transform](discrete%20Fourier%20transform.md)}@}, we have the formula<sup>[\[15\]](#^ref-15)</sup> {@{$$\sum _{n=0}^{\infty }f_{an+b}z^{an+b}={\frac {1}{a} }\sum _{m=0}^{a-1}\omega _{a}^{-mb}F\left(\omega _{a}^{m}z\right)\,.$$}@} A typical usage is {@{extracting every $a$-th term in a sequence via its generating function}@}. <!--SR:!2024-12-02,36,290!2025-01-13,71,310!2025-01-24,67,270!2024-12-31,62,310-->

For {@{integers _m_ ≥ 1}@}, another useful formula providing {@{somewhat _reversed_ floored arithmetic progressions — effectively repeating each coefficient _m_ times}@} — are generated by {@{the identity<sup>[\[16\]](#^ref-16)</sup> $$\sum _{n=0}^{\infty }f_{\left\lfloor {\frac {n}{m} }\right\rfloor }z^{n}={\frac {1-z^{m} }{1-z} }F(z^{m})=\left(1+z+\cdots +z^{m-2}+z^{m-1}\right)F(z^{m})\,.$$}@} <!--SR:!2024-12-31,62,310!2024-12-30,60,310!2024-12-22,43,250-->

### _P_-recursive sequences and holonomic generating functions

#### definitions

A formal power series (or function) _F_(_z_) is {@{said to be __holonomic__}@} if {@{it satisfies a linear differential equation of the form<sup>[\[17\]](#^ref-17)</sup> $$c_{0}(z)F^{(r)}(z)+c_{1}(z)F^{(r-1)}(z)+\cdots +c_{r}(z)F(z)=0\,,$$}@} where {@{the coefficients _c<sub>i</sub>_(_z_) are in the field of rational functions, $\mathbb {C} (z)$}@}. Equivalently, $F(z)$ is {@{holonomic if the vector space over $\mathbb {C} (z)$ spanned by the set of all of its derivatives is finite dimensional}@}. <!--SR:!2024-12-17,48,290!2025-02-19,86,290!2024-12-02,36,290!2025-02-22,90,290-->

Since {@{we can clear denominators if need be in the previous equation}@}, we may {@{assume that the functions, _c<sub>i</sub>_(_z_) are polynomials in _z_}@}. Thus we can {@{see an equivalent condition that a generating function is holonomic}@} if {@{its coefficients satisfy a ___P_-recurrence__}@} of the form {@{$${\widehat {c} }_{s}(n)f_{n+s}+{\widehat {c} }_{s-1}(n)f_{n+s-1}+\cdots +{\widehat {c} }_{0}(n)f_{n}=0\,,$$ for all large enough _n_ ≥ _n_<sub>0</sub>}@} and where {@{the _ĉ<sub>i</sub>_(_n_) are fixed finite-degree polynomials in _n_}@}. In other words, the properties that {@{a sequence be _P-recursive_ and have a holonomic generating function are equivalent}@}. Holonomic functions are {@{closed under the [Hadamard product](generating%20function%20transformation.md#Hadamard%20products%20and%20diagonal%20generating%20functions) operation ⊙ on generating functions}@}. <!--SR:!2024-12-31,62,310!2024-12-02,36,290!2024-12-14,44,290!2024-12-25,52,290!2025-01-22,65,270!2024-12-02,36,290!2025-01-24,65,270!2025-01-24,70,270-->

#### examples

The functions {@{_e_<sup>_z_</sup>, log _z_, cos _z_, arcsin _z_, ${\sqrt {1+z} }$}@}, {@{the [dilogarithm](dilogarithm.md) function Li<sub>2</sub>(_z_), the [generalized hypergeometric functions](generalized%20hypergeometric%20function.md) _<sub>p</sub>F<sub>q</sub>_(...; ...; _z_)}@} and the functions defined by the power series $$\sum _{n=0}^{\infty }{\frac {z^{n} }{(n!)^{2} } }$$ and the non-convergent $$\sum _{n=0}^{\infty }n!\cdot z^{n}$$ are all holonomic. <!--SR:!2024-12-21,42,250!2024-12-21,42,250-->

Examples of _P_-recursive sequences with holonomic generating functions include _f_<sub>_n_</sub> ≔ ⁠1/_n_ + 1⁠ (<sup>2_n_</sup><sub>_n_</sub>) and _f_<sub>_n_</sub> ≔ ⁠2<sup>_n_</sup>/_n_<sup>2</sup> + 1⁠, where sequences such as ${\sqrt {n} }$ and log _n_ are _not_ _P_-recursive due to the nature of singularities in their corresponding generating functions. Similarly, functions with infinitely many singularities such as tan _z_, sec _z_, and [Γ(_z_)](gamma%20function.md) are _not_ holonomic functions.

#### software for working with __P__-recursive sequences and holonomic generating functions

Tools for processing and working with _P_-recursive sequences in {@{_[Mathematica](Wolfram%20Mathematica.md)_}@} include {@{the software packages provided for non-commercial use on the [RISC Combinatorics Group algorithmic combinatorics software](https://www.risc.jku.at/research/combinat/software/) site}@}. Despite being mostly closed-source, particularly powerful tools in this software suite are provided by {@{the __`Guess`__ package for guessing _P-recurrences_ for arbitrary input sequences (useful for [experimental mathematics](experimental%20mathematics.md) and exploration)}@} and {@{the __`Sigma`__ package which is able to find P-recurrences for many sums and solve for closed-form solutions to _P_-recurrences involving generalized [harmonic numbers](harmonic%20number.md)}@}.<sup>[\[18\]](#^ref-18)</sup> Other packages listed on this particular RISC site are {@{targeted at working with holonomic _generating functions_ specifically}@}. <!--SR:!2024-12-31,62,310!2025-01-13,71,310!2024-12-30,60,310!2024-12-02,36,290!2025-01-13,71,310-->

### relation to discrete-time Fourier transform

- see: [discrete-time Fourier transform](discrete-time%20Fourier%20transform.md)

When {@{the series [converges absolutely](absolute%20convergence.md)}@}, {@{$$G\left(a_{n};e^{-i\omega }\right)=\sum _{n=0}^{\infty }a_{n}e^{-i\omega n}$$}@} is {@{the discrete-time Fourier transform of the sequence _a_<sub>0</sub>, _a_<sub>1</sub>, ...}@}. <!--SR:!2025-01-13,71,310!2025-01-28,71,270!2024-12-02,36,290-->

### asymptotic growth of a sequence

In calculus, often {@{the growth rate of the coefficients of a power series}@} can be {@{used to deduce a [radius of convergence](radius%20of%20convergence.md) for the power series}@}. {@{The reverse}@} can also hold; often {@{the radius of convergence for a generating function}@} can be {@{used to deduce the [asymptotic growth](asymptotic%20analysis.md) of the underlying sequence}@}. <!--SR:!2025-01-13,71,310!2025-01-13,71,310!2025-02-01,80,290!2024-12-31,62,310!2024-12-31,62,310-->

For instance, if {@{an ordinary generating function _G_(_a_<sub>_n_</sub>; _x_) that has a finite radius of convergence of _r_}@} can be written as {@{$$G(a_{n};x)={\frac {A(x)+B(x)\left(1-{\frac {x}{r} }\right)^{-\beta } }{x^{\alpha } } }$$}@} where {@{each of _A_(_x_) and _B_(_x_) is a function that is [analytic](analytic%20function.md) to a radius of convergence greater than _r_ (or is [entire](entire%20function.md)), and where _B_(_r_) ≠ 0}@} then: <!--SR:!2024-12-31,62,310!2024-12-20,41,250!2025-01-05,52,250-->

- asymptotic growth of an ordinary generating function using [gamma function](gamma%20function.md) ::@:: $$a_{n}\sim {\frac {B(r)}{r^{\alpha }\Gamma (\beta )} }\,n^{\beta -1}\left({\frac {1}{r} }\right)^{n}$$ <!--SR:!2024-12-11,22,230!2025-01-30,71,270-->
- asymptotic growth of an ordinary generating function using [binomial coefficient](binomial%20coefficient.md) ::@:: $$a_n \sim {\frac {B(r)}{r^{\alpha } } }{\binom {n+\beta -1}{n} }\left({\frac {1}{r} }\right)^{n}$$ (the right hand side equals the right hand side for multiset coefficient, not just asymptotic to it) <!--SR:!2025-01-27,70,270!2024-12-04,17,230-->
- asymptotic growth of an ordinary generating function using [multiset coefficient](multiset.md#counting%20multisets) ::@:: $$a_n \sim {\frac {B(r)}{r^{\alpha } } }\left(\!\!{\binom {\beta }{n} }\!\!\right)\left({\frac {1}{r} }\right)^{n}$$ (the right hand side equals the right hand side for binomial coefficient, not just asymptotic to it) <!--SR:!2025-02-02,72,270!2025-02-23,91,290-->

... using {@{the [gamma function](gamma%20function.md), a [binomial coefficient](binomial%20coefficient.md), or a [multiset coefficient](multiset.md#counting%20multisets)}@}. Note that {@{limit as _n_ goes to infinity of the ratio of _a_<sub>_n_</sub> to any of these expressions}@} is {@{guaranteed to be 1; not merely that _a_<sub>_n_</sub> is proportional to them}@}. <!--SR:!2024-12-31,62,310!2024-12-02,36,290!2024-12-31,62,310-->

Often this approach can be {@{iterated to generate several terms in an asymptotic series for _a_<sub>_n_</sub>}@}. In particular, {@{$$G\left(a_{n}-{\frac {B(r)}{r^{\alpha } } }{\binom {n+\beta -1}{n} }\left({\frac {1}{r} }\right)^{n};x\right)=G(a_{n};x)-{\frac {B(r)}{r^{\alpha } } }\left(1-{\frac {x}{r} }\right)^{-\beta }\,.$$}@} The asymptotic growth of the coefficients of this generating function can then {@{be sought via the finding of _A_, _B_, _α_, _β_, and _r_ to describe the generating function, as above}@}. <!--SR:!2024-12-31,62,310!2024-12-16,36,230!2025-03-29,125,310-->

Similar asymptotic analysis is possible for {@{exponential generating functions}@}; with an exponential generating function, it is {@{⁠$\frac {a_n} {n!}$ (instead of $a_n$)⁠ that grows according to these asymptotic formulae}@}. {@{Generally, if the generating function of one sequence minus the generating function of a second sequence}@} has {@{a radius of convergence that is larger than the radius of convergence of the individual generating functions}@} then {@{the two sequences have the same asymptotic growth}@}. <!--SR:!2025-03-31,127,310!2024-12-31,62,310!2025-03-29,125,310!2024-12-31,62,310!2025-01-02,64,310-->

#### asymptotic growth of the sequence of squares

As derived above, {@{the ordinary generating function for the sequence of squares}@} is: {@{$$G(n^{2};x)={\frac {x(x+1)}{(1-x)^{3} } }\,.$$}@} With {@{_r_ = 1, _α_ = −1, _β_ = 3, _A_(_x_) = 0, and _B_(_x_) = _x_ + 1}@}, we can {@{verify that the squares grow as expected, like the squares}@}: {@{$$a_{n}\sim {\frac {B(r)}{r^{\alpha }\Gamma (\beta )} }\,n^{\beta -1}\left({\frac {1}{r} }\right)^{n}={\frac {1+1}{1^{-1}\,\Gamma (3)} }\,n^{3-1}\left({\frac {1}{1} }\right)^{n}=n^{2}\,.$$}@} <!--SR:!2024-12-31,62,310!2025-02-25,97,290!2024-12-22,43,250!2024-12-02,36,290!2025-01-23,66,270-->

#### asymptotic growth of the Catalan numbers

- see: [Catalan number](catalan%20number.md)

The {@{ordinary generating function for the [Catalan numbers](catalan%20number.md)}@} is {@{$$G(C_{n};x)={\frac {1-{\sqrt {1-4x} } }{2x} }\,.$$}@} With {@{_r_ = ⁠1/4⁠, _α_ = 1, _β_ = −⁠1/2⁠, _A_(_x_) = ⁠1/2⁠, and _B_(_x_) = −⁠1/2⁠}@}, we can conclude that, for the Catalan numbers: {@{$$C_{n}\sim {\frac {B(r)}{r^{\alpha }\Gamma (\beta )} }\,n^{\beta -1}\left({\frac {1}{r} }\right)^{n}={\frac {-{\frac {1}{2} } }{\left({\frac {1}{4} }\right)^{1}\Gamma \left(-{\frac {1}{2} }\right)} }\,n^{-{\frac {1}{2} }-1}\left({\frac {1}{\,{\frac {1}{4} }\,} }\right)^{n}={\frac {4^{n} }{n^{\frac {3}{2} }{\sqrt {\pi } } } }\,.$$}@} <!--SR:!2025-02-23,97,290!2025-02-02,72,270!2024-12-22,43,250!2025-01-16,60,250-->

### bivariate and multivariate generating functions

{@{The generating function in several variables}@} can be {@{generalized to arrays with multiple indices}@}. {@{These non-polynomial double sum examples}@} are called {@{__multivariate generating functions__, or __super generating functions__}@}. For two variables, these are often called {@{__bivariate generating functions__}@}. <!--SR:!2024-12-31,62,310!2025-04-01,128,310!2024-12-17,48,290!2024-12-31,62,310!2024-12-31,62,310-->

#### bivariate case

The ordinary generating function of {@{a two-dimensional array _a_<sub>_m_,_n_</sub> (where _n_ and _m_ are natural numbers)}@} is: {@{$$G(a_{m,n};x,y)=\sum _{m,n=0}^{\infty }a_{m,n}x^{m}y^{n}\,.$$}@} For instance, since {@{(1 + _x_)<sup>_n_</sup> is the ordinary generating function for [binomial coefficients](binomial%20coefficient.md) for a fixed _n_}@}, one may {@{ask for a bivariate generating function that generates the binomial coefficients $\binom n k$ for all _k_ and _n_}@}. To do this, consider {@{(1 + _x_)<sup>_n_</sup> itself as a sequence in _n_}@}, and find {@{the generating function in _y_ that has these sequence values as coefficients}@}. Since {@{the generating function for _a_<sup>_n_</sup> is: $${\frac {1}{1-ay} }\,,$$}@} the generating function for the binomial coefficients is: {@{$$\sum _{n,k}{\binom {n}{k} }x^{k}y^{n}={\frac {1}{1-(1+x)y} }={\frac {1}{1-y-xy} }\,.$$}@} Other examples of such include the following two-variable generating functions for {@{the [binomial coefficients](binomial%20coefficient.md), the [Stirling numbers](Stirling%20number.md), and the [Eulerian numbers](Eulerian%20number.md)}@}, where _ω_ and _z_ denote the two variables:<sup>[\[19\]](#^ref-19)</sup> $${\begin{aligned}e^{z+wz}&=\sum _{m,n\geq 0}{\binom {n}{m} }w^{m}{\frac {z^{n} }{n!} }\\[4px]e^{w(e^{z}-1)}&=\sum _{m,n\geq 0}{\begin{Bmatrix}n\\m\end{Bmatrix} }w^{m}{\frac {z^{n} }{n!} }\\[4px]{\frac {1}{(1-z)^{w} } }&=\sum _{m,n\geq 0}{\begin{bmatrix}n\\m\end{bmatrix} }w^{m}{\frac {z^{n} }{n!} }\\[4px]{\frac {1-w}{e^{(w-1)z}-w} }&=\sum _{m,n\geq 0}\left\langle {\begin{matrix}n\\m\end{matrix} }\right\rangle w^{m}{\frac {z^{n} }{n!} }\\[4px]{\frac {e^{w}-e^{z} }{we^{z}-ze^{w} } }&=\sum _{m,n\geq 0}\left\langle {\begin{matrix}m+n+1\\m\end{matrix} }\right\rangle {\frac {w^{m}z^{n} }{(m+n+1)!} }.\end{aligned} }$$ <!--SR:!2024-12-31,62,310!2025-01-13,71,310!2025-03-30,126,310!2024-12-31,62,310!2025-01-13,71,310!2025-01-13,71,310!2025-01-13,71,310!2024-12-25,52,290!2025-01-31,79,290-->

#### multivariate case

Multivariate generating functions arise in practice when {@{calculating the number of [contingency tables](contingency%20table.md) of non-negative integers with specified row and column totals}@}. Suppose {@{the table has _r_ rows and _c_ columns}@}; the row sums are {@{_t_<sub>1</sub>, _t_<sub>2</sub> ... _t<sub>r</sub>_ and the column sums are _s_<sub>1</sub>, _s_<sub>2</sub> ... _s<sub>c</sub>_}@}. Then, according to [I. J. Good](I.%20J.%20Good.md),<sup>[\[20\]](#^ref-20)</sup> the number of such tables is the coefficient of: {@{$$x_{1}^{t_{1} }\cdots x_{r}^{t_{r} }y_{1}^{s_{1} }\cdots y_{c}^{s_{c} }$$}@} in: {@{$$\prod _{i=1}^{r}\prod _{j=1}^{c}{\frac {1}{1-x_{i}y_{j} } }\,.$$}@} <!--SR:!2025-02-22,94,290!2024-12-31,62,310!2025-02-21,95,290!2025-01-07,55,270!2024-12-17,48,290-->

### representation by continued fractions (Jacobi-type _J_-fractions)

<!-- markdownlint-disable-next-line MD024 -->
#### definitions

Expansions of (formal) _Jacobi-type_ and _Stieltjes-type_ [continued fractions](generalized%20continued%20fraction.md) (_J-fractions_ and _S-fractions_, respectively) whose _h_-th rational convergents represent [2<i>h</i>-order accurate](order%20of%20accuracy.md) power series are another way to express the typically divergent ordinary generating functions for many special one and two-variate sequences. The particular form of the [Jacobi-type continued fractions](Jacobi-type%20continued%20fraction.md) (_J_-fractions) are expanded as in the following equation and have the next corresponding power series expansions with respect to _z_ for some specific, application-dependent component sequences, {ab<sub>_i_</sub>} and {_c_<sub>_i_</sub>}, where _z_ ≠ 0 denotes the formal variable in the second power series expansion given below:<sup>[\[21\]](#^ref-21)</sup> $${\begin{aligned}J^{[\infty ]}(z)&={\cfrac {1}{1-c_{1}z-{\cfrac { {\text{ab} }_{2}z^{2} }{1-c_{2}z-{\cfrac { {\text{ab} }_{3}z^{2} }{\ddots } } } } } }\\[4px]&=1+c_{1}z+\left({\text{ab} }_{2}+c_{1}^{2}\right)z^{2}+\left(2{\text{ab} }_{2}c_{1}+c_{1}^{3}+{\text{ab} }_{2}c_{2}\right)z^{3}+\cdots \end{aligned} }$$

The coefficients of $z^{n}$, denoted in shorthand by _j<sub>n</sub>_ ≔ [_z<sup>n</sup>_] _J_<sup>[∞]</sup>(_z_), in the previous equations correspond to matrix solutions of the equations: $${\begin{bmatrix}k_{0,1}&k_{1,1}&0&0&\cdots \\k_{0,2}&k_{1,2}&k_{2,2}&0&\cdots \\k_{0,3}&k_{1,3}&k_{2,3}&k_{3,3}&\cdots \\\vdots &\vdots &\vdots &\vdots \end{bmatrix} }={\begin{bmatrix}k_{0,0}&0&0&0&\cdots \\k_{0,1}&k_{1,1}&0&0&\cdots \\k_{0,2}&k_{1,2}&k_{2,2}&0&\cdots \\\vdots &\vdots &\vdots &\vdots \end{bmatrix} }\cdot {\begin{bmatrix}c_{1}&1&0&0&\cdots \\{\text{ab} }_{2}&c_{2}&1&0&\cdots \\0&{\text{ab} }_{3}&c_{3}&1&\cdots \\\vdots &\vdots &\vdots &\vdots \end{bmatrix} }\,,$$ where _j_<sub>0</sub> ≡ _k_<sub>0,0</sub> = 1, _j<sub>n</sub>_ = _k_<sub>0,_n_</sub> for _n_ ≥ 1, _k_<sub>_r_,_s_</sub> = 0 if _r_ > _s_, and where for all integers _p_, _q_ ≥ 0, we have an _addition formula_ relation given by: $$j_{p+q}=k_{0,p}\cdot k_{0,q}+\sum _{i=1}^{\min(p,q)}{\text{ab} }_{2}\cdots {\text{ab} }_{i+1}\times k_{i,p}\cdot k_{i,q}\,.$$

#### properties of the _h_-th convergent functions

For _h_ ≥ 0 (though in practice when _h_ ≥ 2), we can define the rational _h_-th convergents to the infinite _J_-fraction, _J_<sup>[∞]</sup>(_z_), expanded by: $$\operatorname {Conv} _{h}(z):={\frac {P_{h}(z)}{Q_{h}(z)} }=j_{0}+j_{1}z+\cdots +j_{2h-1}z^{2h-1}+\sum _{n=2h}^{\infty }{\widetilde {j} }_{h,n}z^{n}$$ component-wise through the sequences, _P<sub>h</sub>_(_z_) and _Q<sub>h</sub>_(_z_), defined recursively by: $${\begin{aligned}P_{h}(z)&=(1-c_{h}z)P_{h-1}(z)-{\text{ab} }_{h}z^{2}P_{h-2}(z)+\delta _{h,1}\\Q_{h}(z)&=(1-c_{h}z)Q_{h-1}(z)-{\text{ab} }_{h}z^{2}Q_{h-2}(z)+(1-c_{1}z)\delta _{h,1}+\delta _{0,1}.\end{aligned} }$$

Moreover, the rationality of the convergent function Conv<sub>_h_</sub>(_z_) for all _h_ ≥ 2 implies additional finite difference equations and congruence properties satisfied by the sequence of _j<sub>n</sub>_, _and_ for _M<sub>h</sub>_ ≔ ab<sub>2</sub> ⋯ ab<sub>_h_ + 1</sub> if _h_ ‖ _M_<sub>_h_</sub> then we have the congruence $$j_{n}\equiv [z^{n}]\operatorname {Conv} _{h}(z){\pmod {h} }\,,$$

for non-symbolic, determinate choices of the parameter sequences {ab<sub>_i_</sub>} and {_c_<sub>_i_</sub>} when _h_ ≥ 2, that is, when these sequences do not implicitly depend on an auxiliary parameter such as _q_, _x_, or _R_ as in the examples contained in the table below.

<!-- markdownlint-disable-next-line MD024 -->
#### examples

The next table provides examples of closed-form formulas for the component sequences found computationally (and subsequently proved correct in the cited references<sup>[\[22\]](#^ref-22)</sup>) in several special cases of the prescribed sequences, _j<sub>n</sub>_, generated by the general expansions of the _J_-fractions defined in the first subsection. Here we define 0 < |_a_|, |_b_|, |_q_| < 1 and the parameters $R,\alpha \in \mathbb {Z} ^{+}$ and _x_ to be indeterminates with respect to these expansions, where the prescribed sequences enumerated by the expansions of these _J_-fractions are defined in terms of the [_q_-Pochhammer symbol](q-Pochhammer%20symbol.md), [Pochhammer symbol](falling%20and%20rising%20factorials.md), and the [binomial coefficients](binomial%20coefficient.md).

| $$j_{n}$$                                                   | $$c_{1}$$               | $$c_{i}(i\geq 2)$$                                                                                                                | $$\mathrm {ab} _{i}(i\geq 2)$$                                                                                                                                                                   |
| ----------------------------------------------------------- | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| $$q^{n^{2} }$$                                              | $$q$$                   | $$q^{2h-3}\left(q^{2h}+q^{2h-2}-1\right)$$                                                                                        | $$q^{6h-10}\left(q^{2h-2}-1\right)$$                                                                                                                                                             |
| $$(a;q)_{n}$$                                               | $$1-a$$                 | $$q^{h-1}-aq^{h-2}\left(q^{h}+q^{h-1}-1\right)$$                                                                                  | $$aq^{2h-4}\left(aq^{h-2}-1\right)\left(q^{h-1}-1\right)$$                                                                                                                                       |
| $$\left(zq^{-n};q\right)_{n}$$                              | $${\frac {q-z}{q} }$$   | $${\frac {q^{h}-z-qz+q^{h}z}{q^{2h-1} } }$$                                                                                       | $${\frac {\left(q^{h-1}-1\right)\left(q^{h-1}-z\right)\cdot z}{q^{4h-5} } }$$                                                                                                                    |
| $${\frac {(a;q)_{n} }{(b;q)_{n} } }$$                       | $${\frac {1-a}{1-b} }$$ | $${\frac {q^{i-2}\left(q+abq^{2i-3}+a(1-q^{i-1}-q^{i})+b(q^{i}-q-1)\right)}{\left(1-bq^{2i-4}\right)\left(1-bq^{2i-2}\right)} }$$ | $${\frac {q^{2i-4}\left(1-bq^{i-3}\right)\left(1-aq^{i-2}\right)\left(a-bq^{i-2}\right)\left(1-q^{i-1}\right)}{\left(1-bq^{2i-5}\right)\left(1-bq^{2i-4}\right)^{2}\left(1-bq^{2i-3}\right)} }$$ |
| $$\alpha ^{n}\cdot \left({\frac {R}{\alpha } }\right)_{n}$$ | $$R$$                   | $$R+2\alpha (i-1)$$                                                                                                               | $$(i-1)\alpha {\bigl (}R+(i-2)\alpha {\bigr )}$$                                                                                                                                                 |
| $$(-1)^{n}{\binom {x}{n} }$$                                | $$-x$$                  | $$-{\frac {(x+2(i-1)^{2})}{(2i-1)(2i-3)} }$$                                                                                      | $${\begin{cases}-{\dfrac {(x-i+2)(x+i-1)}{4\cdot (2i-3)^{2} } }&{\text{for } }i\geq 3;\\[4px]-{\frac {1}{2} }x(x+1)&{\text{for } }i=2.\end{cases} }$$                                            |
| $$(-1)^{n}{\binom {x+n}{n} }$$                              | $$-(x+1)$$              | $${\frac { {\bigl (}x-2i(i-2)-1{\bigr )} }{(2i-1)(2i-3)} }$$                                                                      | $${\begin{cases}-{\dfrac {(x-i+2)(x+i-1)}{4\cdot (2i-3)^{2} } }&{\text{for } }i\geq 3;\\[4px]-{\frac {1}{2} }x(x+1)&{\text{for } }i=2.\end{cases} }$$                                            |

The radii of convergence of these series corresponding to the definition of the Jacobi-type _J_-fractions given above are in general different from that of the corresponding power series expansions defining the ordinary generating functions of these sequences.

<!-- markdownlint-disable-next-line MD024 -->
## examples

### square numbers

Generating functions for the sequence of [square numbers](square%20number.md) _a_<sub>_n_</sub> = _n_<sup>2</sup> are:

| __Generating function type__    | __Equation__                                                                                                            |
| ------------------------------- | ----------------------------------------------------------------------------------------------------------------------- |
| Ordinary generating function    | $$G(n^{2};x)=\sum _{n=0}^{\infty }n^{2}x^{n}={\frac {x(x+1)}{(1-x)^{3} } }$$                                            |
| Exponential generating function | $$\operatorname {EG} (n^{2};x)=\sum _{n=0}^{\infty }{\frac {n^{2}x^{n} }{n!} }=x(x+1)e^{x}$$                            |
| Bell series                     | $$\operatorname {BG} _{p}\left(n^{2};x\right)=\sum _{n=0}^{\infty }\left(p^{n}\right)^{2}x^{n}={\frac {1}{1-p^{2}x} }$$ |
| Dirichlet series                | $$\operatorname {DG} \left(n^{2};s\right)=\sum _{n=1}^{\infty }{\frac {n^{2} }{n^{s} } }=\zeta (s-2)$$                  |

where _ζ_(_s)_ is {@{the [Riemann zeta function](riemann%20zeta%20function.md)}@}. <!--SR:!2025-01-13,71,310-->

## applications

Generating functions are used to:

- Find a [closed formula](closed-form%20expression.md) for ::@:: a sequence given in a recurrence relation, for example, [Fibonacci numbers](fibonacci%20sequence.md#generating%20function). <!--SR:!2024-12-31,62,310!2024-12-31,62,310-->
- Find [recurrence relations](recurrence%20relation.md) for ::@:: sequences—the form of a generating function may suggest a recurrence formula. <!--SR:!2024-12-31,62,310!2024-12-31,62,310-->
- Find relationships between ::@:: sequences—if the generating functions of two sequences have a similar form, then the sequences themselves may be related. <!--SR:!2024-12-31,62,310!2025-01-13,71,310-->
- Explore the asymptotic behaviour of :@: sequences. <!--SR:!2024-12-30,60,310-->
- Prove identities involving :@: sequences. <!--SR:!2025-01-13,71,310-->
- Solve ::@:: [enumeration](enumeration.md) problems in [combinatorics](combinatorics.md) and encoding their solutions. [Rook polynomials](rook%20polynomial.md) are an example of an application in combinatorics. <!--SR:!2024-12-31,62,310!2025-01-13,71,310-->
- Evaluate ::@:: infinite sums. <!--SR:!2024-12-30,60,310!2024-12-31,62,310-->

### various techniques: evaluating sums and tackling other problems with generating functions

#### example 1: formula for sums of harmonic numbers

Generating functions give us {@{several methods to manipulate sums and to establish identities between sums}@}. <!--SR:!2025-01-13,71,310-->

The simplest case occurs when {@{_s<sub>n</sub>_ = Σ<sup>_n_</sup><sub>_k_ = 0</sub> _a<sub>k</sub>_ (_s<sub>n</sub>_ is the cumulative sum from _a<sub>0</sub>_ to _a<sub>n</sub>_)}@}. We then know that {@{$S(z) = \frac {A(z)} {1 - z}$ for the corresponding ordinary generating functions}@}. <!--SR:!2025-01-13,71,310!2024-12-31,62,310-->

For example, we can manipulate {@{$$s_{n}=\sum _{k=1}^{n}H_{k}\,,$$}@} where {@{_H<sub>k</sub>_ = 1 + ⁠1/2⁠ + ⋯ + ⁠1/_k_⁠ are the [harmonic numbers](harmonic%20number.md)}@}. Let {@{$$H(z)=\sum _{n=1}^{\infty }{H_{n}z^{n} }$$ be the ordinary generating function of the harmonic numbers}@}. Then {@{$$H(z)={\frac {1}{1-z} }\sum _{n=1}^{\infty }{\frac {z^{n} }{n} }\,,$$}@} and thus {@{$$S(z)=\sum _{n=1}^{\infty }{s_{n}z^{n} }={\frac {1}{(1-z)^{2} } }\sum _{n=1}^{\infty }{\frac {z^{n} }{n} }\,.$$}@} Using {@{$${\frac {1}{(1-z)^{2} } }=\sum _{n=0}^{\infty }(n+1)z^{n}\,,$$}@} {@{[convolution](#Convolution%20(Cauchy%20products)) with the numerator}@} yields {@{$$s_{n}=\sum _{k=1}^{n}{\frac {n+1-k}{k} }=(n+1)H_{n}-n\,,$$}@} which can also be written as {@{$$s_n = \sum _{k=1}^{n}{H_{k} } = (n + 1) H_n - n = (n + 1) \left(H_n + \frac 1 {n + 1} \right) - (n + 1) =(n+1)(H_{n+1}-1)\,.$$}@} <!--SR:!2025-01-13,71,310!2024-12-31,62,310!2024-12-31,62,310!2024-12-30,60,310!2025-01-07,55,270!2024-12-02,36,290!2025-01-13,71,310!2024-12-02,36,290!2024-12-16,47,290-->

> [!tip] tips
>
> - intuition of the sum of harmonic numbers $$\sum_{k = 1}^n H_k = (n + 1) H_k - n$$ ::@:: Visualize using a table. For each harmonic number $H_k$ (including $H_0 = 0$), add a row to the table, with each cell up to the $k$-th column (inclusive) having the value $1 / j$, where $j$ is the (1-based) column index. After constructing such a table, the filled in cells form a triangle. If we fill in all cells with $1 / j$ where $j$ is the (1-based) column index, then the whole table adds up to $(n + 1) H_k$. The missing cells add up to $n$, because the missing cells in each column sum up to $1$. <!--SR:!2024-12-25,52,290!2024-12-31,62,310-->

#### example 2: modified binomial coefficient sums and the binomial transform

As another example of using generating functions to {@{relate sequences and manipulate sums}@}, for {@{an arbitrary sequence ⟨ _f<sub>n</sub>_ ⟩}@} we {@{define the two sequences of sums $${\begin{aligned}s_{n}&:=\sum _{m=0}^{n}{\binom {n}{m} }f_{m}3^{n-m}\\[4px]{\tilde {s} }_{n}&:=\sum _{m=0}^{n}{\binom {n}{m} }(m+1)(m+2)(m+3)f_{m}3^{n-m}\,,\end{aligned} }$$ for all _n_ ≥ 0}@}, and seek to {@{express the second sums in terms of the first. We suggest an approach by generating functions}@}. <!--SR:!2025-03-26,122,310!2024-12-31,62,310!2025-01-13,71,310!2024-12-30,60,310-->

First, we use {@{the [generalized binomial transform](binomial%20transform.md#generalizations)}@} to write the generating function for the first sum as {@{$$S(z)={\frac {1}{1-3z} }F\left({\frac {z}{1-3z} }\right)\,.$$}@} Since the generating function for {@{the sequence ⟨ (_n_ + 1)(_n_ + 2)(_n_ + 3) _f<sub>n</sub>_ ⟩}@} is given by {@{$$\tilde F(z) = 6F(z)+18zF'(z)+9z^{2}F''(z)+z^{3}F'''(z)$$}@} we may write the generating function for the second sum defined above in the form {@{$${\tilde {S} }(z)={\frac {6}{(1-3z)} }F\left({\frac {z}{1-3z} }\right)+{\frac {18z}{(1-3z)^{2} } }F'\left({\frac {z}{1-3z} }\right)+{\frac {9z^{2} }{(1-3z)^{3} } }F''\left({\frac {z}{1-3z} }\right)+{\frac {z^{3} }{(1-3z)^{4} } }F'''\left({\frac {z}{1-3z} }\right)\,.$$}@} In particular, we may write this modified sum generating function in the form of {@{$$\tilde S(z) = a(z)\cdot S(z)+b(z)\cdot zS'(z)+c(z)\cdot z^{2}S''(z)+d(z)\cdot z^{3}S'''(z),$$}@} for {@{$a(z) = 6(1 - 3z)^3, b(z) = 18(1 - 3z)^3, c(z) = 9(1 - 3z)^3, d(z) = (1 - 3z)^3$}@}, where $(1 - 3z)^3 = 1 - 9z + 27z^2 - 27z^3$. Finally, it follows that we may express the second sums through the first sums in the following form: {@{$$\begin{aligned} {\tilde {s} }_{n} & = [z^{n}] \left(6(1-3z)^{3}\sum _{n=0}^{\infty }s_{n}z^{n} \right. \\ & +18(1-3z)^{3}\sum _{n=0}^{\infty }ns_{n}z^{n} \\ & +9(1-3z)^{3}\sum _{n=0}^{\infty }n(n-1)s_{n}z^{n} \\ & \left. +(1-3z)^{3}\sum _{n=0}^{\infty }n(n-1)(n-2)s_{n}z^{n}\right)\,, \end{aligned}$$}@} which yields $$\begin{aligned} \tilde s_n & =(n+1)(n+2)(n+3)s_{n} \\ & -9n(n+1)(n+2)s_{n-1} \\ & +27(n-1)n(n+1)s_{n-2} \\ & -(n-2)(n-1)ns_{n-3}\,. \end{aligned}$$. <!--SR:!2024-12-02,36,290!2025-03-03,101,290!2025-01-13,71,310!2025-03-25,120,310!2025-01-25,68,270!2024-12-17,48,290!2024-12-17,48,290!2024-12-22,43,250-->

> [!tip] tips
>
> - applying the [generalized binomial transform](binomial%20transform.md#generalizations) on $$s_{n}:=\sum _{m=0}^{n}{\binom {n}{m} }f_{m}3^{n-m}$$ ::@:: Notice it is in the form of $$s_n := \sum_{m = 0}^n \binom n m a^m (-c)^{n - m} b_m$$, where $a = 1$, $c = -3$, and $b_m = f_m$. So the resulting generating function is $$S(z) = \frac 1 {cz + 1} F\left(\frac {az} {cz + 1} \right) = \frac 1 {1 - 3z} F\left(\frac z {1 - 3z} \right)$$. <!--SR:!2024-12-22,43,250!2025-02-03,73,270-->
> - deriving the generating function for $\langle (m + 1) (m + 2) (m + 3) f_m \rangle$ from $\langle f_m \rangle$ ::@:: First, shift the coefficients to the right by 3 to $\langle f_{m - 3} \rangle$. This yields $$z^3 F(z)$$. Then differentiate it 3 times to undo the shift while generating the falling factorial $(m + 1) (m + 2) (m + 3)$ to get $\langle (m + 1) (m + 2) (m + 3) f_m \rangle$. This yields $\left(z^3 F(z)\right)'''$. Expand it using the chain rule: $$\begin{aligned} \left(z^3 F(z) \right)''' & = \left(3z^2 F(z) + z^3 F'(z) \right)'' \\ & = \left(6z F(z) + (3 + 3)z^2 F'(z) + z^3 F''(z) \right)' \\ & = 6 F(z) + (6 + 12)z F'(z) + (6 + 3)z^2 F''(z) + z^3 F'''(z) \\ & = 6 F(z) + 18z F'(z) + 9z^2 F''(z) + z^3 F'''(z) \end{aligned}$$. In particular, it has the pattern that is readily generalized: $$\binom 3 0 \left(z^3\right)''' F(z) + \binom 3 1 \left(z^3\right)'' F'(z) + \binom 3 2 \left(z^3\right)' F''(z) + \binom 3 3 z^3 F'''(z)$$. <!--SR:!2024-12-17,48,290!2025-03-25,120,310-->
> - deriving the generating function $\tilde S(z)$ from $S(z)$ in terms of $F(z)$ ::@:: $$S(z) = \frac 1 {1 - 3z} F\left(\frac z {1 - 3z} \right)$$, where $F(z)$ is the generating function for $\langle f_m \rangle$. Now $\tilde S(z)$ uses $\langle (m + 1) (m + 2) (m + 3) f_m \rangle$ instead of $\langle f_m \rangle$, so replace $F(z)$ with $\tilde F(z)$. Since we have an expression for $\tilde F(z)$ in terms of $F(z)$: $$\tilde F(z) = 6 F'''(z) + 18 z F''(z) + 9 z^2 F'(z) + z^3 F(z)$$, so we just need to expand $\tilde F(z)$: $$\begin{aligned} \tilde S(z) & = \frac 1 {1 - 3z} \tilde F\left(\frac z {1 - 3z} \right) \\ & = \frac 1 {1 - 3z} (\cdots) \\ & = \cdots \end{aligned}$$. <!--SR:!2025-01-28,69,270!2025-01-02,64,310-->
> - deriving the generating function $\tilde S(z)$ from $S(z)$ in terms of $S(z)$ ::@:: Er... It is difficult. I have not figured out a way to see this intuitively. See the HTML comment on this line for an incomplete draft... <!-- Define $$S_n(z) := \frac {z^n} {(1 - 3z)^{n + 1} } F^{(n)} \left(\frac z {1 - 3z} \right)$$. In particular, $S_0(z) = S(z)$. Differentiate $S_n(z)$: $$\begin{aligned} S_n(z) & = \frac {z^n} {(1 - 3z)^{n + 1} } F^{(n)} \left(\frac z {1 - 3z} \right) \\ S_n'(z) & = \frac {n z^{n - 1} (1 - 3z)^{n + 1} + 3 (n + 1) z^n (1 - 3z)^n } {(1 - 3z)^{2n + 2} } F^{(n)} \left(\frac z {1 - 3z} \right) \\ & + \frac {z^n} {(1 - 3z)^{n + 1} } F^{(n + 1)}\left(\frac z {1 - 3z} \right) \left(\frac {(1 - 3z) + 3z} {(1 - 3z)^2} \right) \\ & = \frac {nz^{n - 1}(1 - 3z) + 3(n + 1)z^n} {(1 - 3z)^{n + 2} } F^{(n)} \left(\frac z {1 - 3z} \right) \\ & + \frac {z^n} {(1 - 3z)^{n + 3} } F^{(n + 1)} \left(\frac z {1 - 3z} \right) \\ & = \frac {nz^{n - 1} - 3nz^n + 3nz^n + z^n} {(1 - 3z)^{n + 2} } F^{(n)} \left(\frac z {1 - 3z} \right) \\ & + \frac 1 z \frac {z^{n + 1} } {(1 - 3z)^{n + 3}@} F^{(n + 1)} \left(\frac z {1 - 3z} \right) \\ & = \frac {n + z} {z(1 - 3z)} S_n(z) + \frac 1 {z(1 - 3z)} S_{n + 1}(z) \\ & = \frac 1 {z(1 - 3z)} \left(\left(n + z\right) S_n(z) + S_{n + 1}(z) \right) \end{aligned}$$. Now, write $\tilde S(z)$ in terms of $S_n(z)$: $$\begin{aligned} {\tilde {S} }(z) & = {\frac {6}{(1-3z)} }F\left({\frac {z}{1-3z} }\right)+{\frac {18z}{(1-3z)^{2} } }F'\left({\frac {z}{1-3z} }\right)+{\frac {9z^{2} }{(1-3z)^{3} } }F''\left({\frac {z}{1-3z} }\right)+{\frac {z^{3} }{(1-3z)^{4} } }F'''\left({\frac {z}{1-3z} }\right) \\ & = 6 S_0(z) + 18 S_1(z) + 9 S_2(z) + S_3(z) \end{aligned}$$. --> <!--SR:!2024-12-02,36,290!2025-03-28,124,310-->
> - deriving $\tilde s_n$ from $\tilde S(z)$ ::@:: Recall that $z^n \tilde S^{(n)}(z)$ multiplies the coefficients by the falling factorial $n^{\underline z}$. Afterwards, extract coefficients of the indeterminate $z^n$, but note that this is tedious to do... <!--SR:!2025-02-03,73,270!2025-01-30,78,290-->

#### example 3: generating functions for mutually recursive sequences

In this example, we reformulate a generating function example given in Section 7.3 of _Concrete Mathematics_ (see also Section 7.1 of the same reference for pretty pictures of generating function series). In particular, suppose that we seek {@{the total number of ways (denoted _U<sub>n</sub>_) to tile a 3-by-_n_ rectangle with unmarked 2-by-1 domino pieces}@}. Let {@{the auxiliary sequence, _V<sub>n</sub>_, be defined as the number of ways to cover a 3-by-_n_ rectangle-minus-corner (bottom-right corner only) section of the full rectangle}@}. We seek to {@{use these definitions to give a [closed form](closed-form%20expression.md) formula for _U<sub>n</sub>_}@} without {@{breaking down this definition further to handle the cases of vertical versus horizontal dominoes}@}. Notice that the ordinary generating functions for our two sequences correspond to the series: {@{$${\begin{aligned}U(z)=1+3z^{2}+11z^{4}+41z^{6}+\cdots ,\\V(z)=z+4z^{3}+15z^{5}+56z^{7}+\cdots .\end{aligned} }$$}@} If we consider {@{the possible configurations that can be given starting from the left edge of the 3-by-_n_ rectangle}@}, we are able to {@{express the following mutually dependent, or _mutually recursive_, recurrence relations for our two sequences when _n_ ≥ 2}@} defined as above where {@{_U_<sub>0</sub> = 1, _U_<sub>1</sub> = 0, _V_<sub>0</sub> = 0, and _V_<sub>1</sub> = 1}@}: $${\begin{aligned}U_{n}&=2V_{n-1}+U_{n-2}\\V_{n}&=U_{n-1}+V_{n-2}.\end{aligned} }$$ <!--SR:!2024-12-17,48,290!2025-03-26,122,310!2024-12-31,62,310!2025-01-13,71,310!2024-12-20,41,250!2025-01-13,71,310!2024-12-31,62,310!2024-12-31,62,310-->

> [!tip] tips
>
> - intuition for $$U_n = 2 V_{n - 1} + U_{n - 2}$$ ::@:: Assume there are $n = 2m$ columns. <p> There are $V_{n - 1}$ ways to tile $n - 1$ columns with the _bottom_ right corner empty. There is only 1 way to expand each tiling to $n$ columns. However, we also need to consider the ways to tile $n - 1$ columns with the _top_ right corner empty, which is also $V_{n - 1}$ by symmetry. This explains $2V_{n - 1}$. <p> There are $U_{n - 2}$ ways to tile $n - 2$ columns fully. There are 3 ways to expand each tiling to $n$ columns, but notice that 2 of the ways are already accounted for by $2 V_{n - 1}$, so there only 1 not-yet-counted way to expand each tiling. This explains $U_{n - 2}$. <!--SR:!2024-12-17,48,290!2024-12-31,62,310-->
> - intuition for $$V_n = U_{n - 1} + V_{n - 2}$$ ::@:: Assume there are $n = 2m + 1$ columns. <p> There are $U_{n - 1}$ ways to tile $n - 1$ columns fully. There is only 1 way to expand each tiling to $n$ columns to leave the bottom right corner empty. This explains $U_{n - 1}$. <p> There are $V_{n - 2}$ ways to tile $n - 2$ columns with the bottom right corner empty. There are 2 ways to expand each tiling to $n$ columns to leave the bottom right empty, but notice that 1 of the ways is already accounted for by $U_{n - 1}$, so there only 1 not-yet-counted way to expand each tiling. This explains $V_{n - 2}$. <p> There is a reason why we only consider leaving the bottom corner empty, but not both the top and bottom corner: It makes it easier to not accidentally double count. <!--SR:!2024-12-31,62,310!2024-12-14,44,290-->

Since we have that for {@{all integers _m_ ≥ 0}@}, the {@{index-shifted generating functions}@} satisfy<sup>[\[1\]](#^ref-1)</sup> {@{$$z^{m}G(z)=\sum _{n=m}^{\infty }g_{n-m}z^{n}\,,$$}@} we can use {@{the initial conditions specified above and the previous two recurrence relations}@} to see that {@{we have the next two equations relating the generating functions for these sequences}@} given by {@{$${\begin{aligned}U(z)&=2zV(z)+z^{2}U(z)+1\\V(z)&=zU(z)+z^{2}V(z)={\frac {z}{1-z^{2} } }U(z),\end{aligned} }$$}@} which then implies by {@{solving the system of equations (and this is the particular trick to our method here)}@} that $$U(z)={\frac {1-z^{2} }{1-4z^{2}+z^{4} } }={\frac {1}{3-{\sqrt {3} } } }\cdot {\frac {1}{1-\left(2+{\sqrt {3} }\right)z^{2} } }+{\frac {1}{3+{\sqrt {3} } } }\cdot {\frac {1}{1-\left(2-{\sqrt {3} }\right)z^{2} } }.$$ (Annotation: {@{Substitute $V(z)$ into $U(z)$. Make $U(z)$ the equation subject. Simplify. Find the roots of the denominator, then perform partial fraction decomposition to get a closed form containing familiar generating functions: $\frac b {1 - ax} = b \sum_{k = 0}^\infty a^k x^k$.}@}) Thus by {@{performing algebraic simplifications to the sequence resulting from the second partial fractions expansions of the generating function in the previous equation}@}, we find that {@{$U_{2n + 1} \equiv 0$ (because only $z^{2n}$ terms have nonzero coefficients)}@} and that {@{$$U_{2n} = \left\lceil {\frac {\left(2+{\sqrt {3} }\right)^{n} }{3-{\sqrt {3} } } }\right\rceil \,,$$ for all integers _n_ ≥ 0}@}. The detail steps are: {@{$$\begin{aligned} U_{2n} & = \left[z^{2n}\right] U(z) \\ & = \frac {\left(2 + \sqrt 3\right)^n} {3 - \sqrt 3} + \frac {\left(2 - \sqrt 3 \right)^n} {3 + \sqrt 3} \\ & \text{Now notice that } \frac {\left(2 - \sqrt 3 \right)^n} {3 + \sqrt 3} < 1 \text{ for all }n \ge 0\text{.} \\ & \text{We can omit said term and use the ceil function} \\ & \text{to compensate, given that }U_{2n}\text{ must be an integer.} \\ U_{2n} & = \left\lceil \frac {\left(2 + \sqrt 3 \right)^n} {3 - \sqrt 3} \right\rceil \qquad \forall n \ge 0 \,. \end{aligned}$$}@} We also note that {@{the same shifted generating function technique applied to the second-order [recurrence](recurrence%20relation.md) for the [Fibonacci numbers](fibonacci%20sequence.md)}@} is {@{the prototypical example of using generating functions to solve recurrence relations in one variable}@} already covered, or at least hinted at, in the subsection on [rational functions](rational%20function.md) given above. <!--SR:!2024-12-31,62,310!2024-12-02,36,290!2025-01-13,71,310!2024-12-31,62,310!2024-12-31,62,310!2025-01-13,71,310!2024-12-30,60,310!2024-12-02,36,290!2025-01-21,67,270!2024-12-31,62,310!2025-02-17,84,290!2025-02-21,93,290!2024-12-31,62,310!2024-12-31,62,310-->

### convolution (Cauchy products)

{@{A discrete _convolution_ of the terms in two formal power series}@} turns {@{a product of generating functions}@} into {@{a generating function enumerating a convolved sum of the original sequence terms}@} (see [Cauchy product](cauchy%20product.md)). <!--SR:!2025-01-13,71,310!2025-01-13,71,310!2024-12-31,62,310-->

1. Consider _A_(_z_) and _B_(_z_) are ordinary generating functions. ::@:: $$C(z)=A(z)B(z)\Leftrightarrow [z^{n}]C(z)=\sum _{k=0}^{n}{a_{k}b_{n-k} }$$ <!--SR:!2024-12-31,62,310!2024-12-30,60,310-->
2. Consider _A_(_z_) and _B_(_z_) are exponential generating functions. ::@:: $$C(z)=A(z)B(z)\Leftrightarrow \left[{\frac {z^{n} }{n!} }\right]C(z)=\sum _{k=0}^{n}{\binom {n}{k} }a_{k}b_{n-k}$$ <!--SR:!2025-01-07,55,270!2024-12-21,42,250-->
3. Consider the triply convolved sequence resulting from the product of three ordinary generating functions. ::@:: $$C(z)=F(z)G(z)H(z)\Leftrightarrow [z^{n}]C(z)=\sum _{j+k+l=n}f_{j}g_{k}h_{l}$$ <!--SR:!2024-12-30,60,310!2025-01-13,71,310-->
4. Consider the _m_-fold convolution of a sequence with itself for some positive integer _m_ ≥ 1 (see the example below for an application). ::@:: $$C(z)=G(z)^{m}\Leftrightarrow [z^{n}]C(z)=\sum _{k_{1}+k_{2}+\cdots +k_{m}=n}g_{k_{1} }g_{k_{2} }\cdots g_{k_{m} }$$ <!--SR:!2025-01-13,71,310!2025-01-02,64,310-->

{@{Multiplication of generating functions, or convolution of their underlying sequences}@}, can {@{correspond to a notion of independent events in certain counting and probability scenarios}@}. For example, if {@{we adopt the notational convention that the [probability generating function](probability-generating%20function.md), or _pgf_, of a random variable _Z_ is denoted by _G<sub>Z</sub>_(_z_)}@}, then we can show that {@{for any two random variables <sup>[\[23\]](#^ref-23)</sup>$$G_{X+Y}(z)=G_{X}(z)G_{Y}(z)\,,$$ if _X_ and _Y_ are independent}@}. Similarly, {@{the number of ways to pay _n_ ≥ 0 cents in coin denominations of values in the set {1, 5, 10, 25, 50} (i.e., in pennies, nickels, dimes, quarters, and half dollars, respectively)}@} is generated by the product {@{$$C(z)={\frac {1}{1-z} }{\frac {1}{1-z^{5} } }{\frac {1}{1-z^{10} } }{\frac {1}{1-z^{25} } }{\frac {1}{1-z^{50} } },$$}@} (and {@{$\left[z^n \right] C(z)$}@} gives the answer) and moreover, if {@{we allow the _n_ cents to be paid in coins of any positive integer denomination}@}, we arrive at {@{the generating function for the number of such combinations of change being generated by the [partition function](partition%20function%20(number%20theory).md) generating function}@} expanded by {@{the infinite [_q_-Pochhammer symbol](q-Pochhammer%20symbol.md) product of $$\prod_{n = 1}^\infty \frac 1 {1 - z^n} = \prod _{n=1}^{\infty }\left(1-z^{n}\right)^{-1}\,.$$}@} <!--SR:!2024-12-25,52,290!2024-12-31,62,310!2025-01-14,66,270!2025-01-13,71,310!2024-12-31,62,310!2025-01-13,71,310!2025-01-13,71,310!2025-03-29,125,310!2025-01-14,58,250!2024-12-31,62,310-->

#### example: generating function for the Catalan numbers

An example where convolutions of generating functions are useful allows us to {@{solve for a specific closed-form function representing the ordinary generating function for the [Catalan numbers](catalan%20number.md), _C<sub>n</sub>_}@}. In particular, this sequence has {@{the combinatorial interpretation as being the number of ways to insert parentheses into the product _x_<sub>0</sub> · _x_<sub>1</sub> ·⋯· _x<sub>n</sub>_ (there are $n + 1$ variables, not $n$ variables) so that the order of multiplication is completely specified}@}. For example, {@{_C_<sub>2</sub> = 2}@} which corresponds to {@{the two expressions _x_<sub>0</sub> · (_x_<sub>1</sub> · _x_<sub>2</sub>) and (_x_<sub>0</sub> · _x_<sub>1</sub>) · _x_<sub>2</sub>}@}. It follows that {@{the sequence satisfies a recurrence relation}@} given by {@{$$C_{n}=\sum _{k=0}^{n-1}C_{k}C_{n-1-k}+\delta _{n,0}=C_{0}C_{n-1}+C_{1}C_{n-2}+\cdots +C_{n-1}C_{0}+\delta _{n,0}\,,\quad n\geq 0\,,$$}@} and so has {@{a corresponding convolved generating function, _C_(_z_), satisfying $$C(z)=z\cdot C(z)^{2}+1\,.$$}@} (Annotation: {@{$z \cdot C(z)^2 = C(z) \cdot (z \cdot C(z))$, and the $1$ is for the initial condition.}@}) Since {@{_C_(0) = 1 ≠ ∞}@}, we then {@{arrive at a formula for this generating function given by $$C(z)={\frac {1-{\sqrt {1-4z} } }{2z} }=\sum _{n=0}^{\infty }{\frac {1}{n+1} }{\binom {2n}{n} }z^{n}\,.$$}@} The detail steps for the closed form are: {@{$$\begin{aligned} C(z) & = z \cdot C(z)^2 + 1 \\ z \cdot C(z)^2 - C(z) + 1 & = 0 \\ C(z) & = \frac {1 \pm \sqrt{1^2 - 4z} } {2z} && \text{quadratic equation} \\ & = \frac {1 - \sqrt{1 - 4z} } {2z} && \text{choose minus so that }\lim_{z \to 0} C(z) = 1 = C_0 \,. \end{aligned}$$}@} Finally, {@{apply the [binomial series](binomial%20seris.md) to expand the numerator, and then the denominator scales and shifts the coefficients}@}. Note that the first equation implicitly defining _C_(_z_) above implies that {@{$$C(z)={\frac {1}{1-z\cdot C(z)} }\,,$$}@} which then leads to {@{another "simple" (of form) continued fraction expansion of this generating function}@}. <!--SR:!2025-02-27,97,290!2024-12-31,62,310!2025-03-03,101,290!2025-03-27,123,310!2025-01-13,71,310!2024-12-31,62,310!2024-12-31,62,310!2025-01-13,71,310!2024-12-30,60,310!2025-01-23,66,270!2024-12-31,62,310!2025-01-13,71,310!2025-02-22,96,290!2024-12-31,62,310-->

#### example: spanning trees of fans and convolutions of convolutions

{@{A _fan of order n_}@} is defined to be {@{a graph on the _n_ + 1 vertices {0, 1, ..., _n_} with 2<!-- markdown separator -->_n_ − 1 edges connected according to the following rules}@}: Vertex 0 is {@{connected by a single edge to each of the other _n_ vertices, and vertex $k$ is connected by a single edge to the next vertex _k_ + 1 for all 1 ≤ _k_ < _n_}@}.<sup>[\[24\]](#^ref-24)</sup> There is {@{one fan of order one, three fans of order two, eight fans of order three}@}, and so on. {@{A [spanning tree](spanning%20tree.md)}@} is {@{a subgraph of a graph which contains all of the original vertices and which contains enough edges to make this subgraph connected, but not so many edges that there is a cycle in the subgraph}@}. We ask {@{how many spanning trees _f<sub>n</sub>_ of a fan of order _n_ are possible for each _n_ ≥ 1}@}. <!--SR:!2024-12-30,60,310!2025-01-13,71,310!2024-12-30,60,310!2025-01-16,60,250!2024-12-31,62,310!2024-12-17,48,290!2025-01-13,71,310-->

As an observation, we may approach the question by {@{counting the number of ways to join adjacent sets of vertices}@}. Since we are finding the number of spanning trees, we can {@{designate any node as the tree root; for convenience, vertex 0 is the tree root}@}. Then {@{any other vertex _k_ (_k_ is not 0) is reachable from this tree root}@}. Importantly, in a path from vertex 0 to vertex _k_, {@{there is 1 and only 1 path from vertex 0 to vertex _k_}@}, because {@{otherwise either there is no path from vertex 0 to vertex _k_ (if less than 1 path), or there is a cycle (if more than 1 path)}@}. We can obtain all spanning trees by {@{partitioning vertex 1 to vertex _n_ into 1 to _n_ connected subgraphs (e.g. vertex 2, 3, 4 can form a partition but vertex 2, 3, 5 cannot)}@}. Then for {@{each possible partition}@}, {@{select 1 vertex from each subgraph and connect it to the tree root (vertex 0)}@}. This will {@{give all spanning trees}@}. For example, when _n_ = 4, we have that {@{_f_<sub>4</sub> = 4 + 3 · 1 + 2 · 2 + 1 · 3 + 2 · 1 · 1 + 1 · 2 · 1 + 1 · 1 · 2 + 1 · 1 · 1 · 1 = 21}@}, which is {@{a sum over the _m_-fold convolutions of the sequence $g_n = n = \left[ z^n \right] \frac z {(1 - z)^2}$⁠ for _m_ ≔ 1, 2, 3, 4}@}. (Annotation: {@{$G(z) = \frac 1 {1 - z}$ represents the sequence $g_n = 1$, convoluting with itself to get $G(z) = \frac 1 {(1 - z)^2}$ yields the sequence $g_n = n + 1$, and multiplying by $z$ to get $G(z) = \frac z {(1 - z)^2}$ shifts the sequence: $g_n = n$.}@}) More generally, we may write a formula for this sequence as {@{$$f_{n}=\sum _{m>0}\sum _{\scriptstyle k_{1}+k_{2}+\cdots +k_{m}=n \atop \scriptstyle k_{1},k_{2},\ldots ,k_{m}>0}g_{k_{1} }g_{k_{2} }\cdots g_{k_{m} }\,,$$}@} from which we see that the ordinary generating function for this sequence is given by {@{the next sum of convolutions as $$F(z)=G(z)+G(z)^{2}+G(z)^{3}+\cdots ={\frac {G(z)}{1-G(z)} }={\frac {z}{(1-z)^{2}-z} }={\frac {z}{1-3z+z^{2} } }\,,$$}@} from which we are able to {@{extract an exact formula for the sequence by taking the [partial fraction expansion](partial%20fraction%20decomposition.md) of the last generating function}@}. <!--SR:!2025-01-13,71,310!2024-12-31,62,310!2024-12-31,62,310!2024-12-31,62,310!2024-12-31,62,310!2025-01-13,71,310!2024-12-02,36,290!2024-12-31,62,310!2024-12-31,62,310!2025-02-17,91,290!2025-04-01,128,310!2024-12-17,48,290!2025-01-28,71,270!2025-01-14,66,270!2025-03-29,125,310-->

### implicit generating functions and the Lagrange inversion formula

One often encounters generating functions {@{specified by a functional equation, instead of an explicit specification}@}. For example, the generating function _T(z)_ for {@{the number of binary trees on _n_ nodes (leaves included)}@} satisfies {@{$$T(z)=z\left(1+T(z)^{2}\right)$$}@} <!--SR:!2025-01-13,71,310!2024-12-22,43,250!2025-01-13,71,310-->

{@{The Lagrange Inversion Theorem}@} is {@{a tool used to explicitly evaluate solutions to such equations}@}. <!--SR:!2024-12-31,62,310!2025-01-13,71,310-->

> {@{__Lagrange Inversion Formula__}@} — Let {@{$\phi (z)\in C[[z]]$ be a formal power series with a non-zero constant term}@}. Then {@{the functional equation $$T(z)=z\phi (T(z))$$}@} admits {@{a unique solution in $T(z)\in C[[z]]$, which satisfies $$[z^{n}]T(z)=[z^{n-1}]{\frac {1}{n} }(\phi (z))^{n}$$}@} where the notation $[z^{n}]F(z)$ {@{returns the coefficient of $z^{n}$ in $F(z)$}@}. <!--SR:!2025-01-02,64,310!2025-01-25,66,270!2025-03-03,101,290!2024-11-30,12,250!2025-03-31,127,310-->

Applying the above theorem to our functional equation yields (with {@{$\phi (z)=1+z^{2}$}@}): {@{$$[z^{n}]T(z)=[z^{n-1}]{\frac {1}{n} }(1+z^{2})^{n}$$}@} Via {@{the binomial theorem expansion}@}, for {@{even $n$, the formula returns $0$}@}. This is expected as {@{one can prove that the number of leaves of a binary tree are one more than the number of its internal nodes}@}, so {@{the total sum should always be an odd number}@}. For {@{odd $n$}@}, however, we get {@{$$[z^{n-1}]{\frac {1}{n} }(1+z^{2})^{n} = \frac 1 n [z^{n - 1}] \sum_{k = 0}^n \binom n k z^{2k} = \frac 1 n \dbinom n {\frac {n - 1} 2} = {\frac {1}{n} }{\dbinom {n}{\frac {n+1}{2} } }$$}@} The expression becomes much neater if {@{we let $n$ be the number of internal nodes}@}: Now {@{the expression just becomes the $n$<sup>th</sup> Catalan number (Interesting connection!)}@}: {@{$$n := \frac {n' - 1} 2 \qquad \frac 1 {n'} \binom {n'} {\frac {n' + 1} 2} = \frac 1 {2n + 1} \binom {2n + 1} {n + 1} = \frac 1 {2n + 1} \binom {2n} n \frac {2n + 1} {n + 1} = \frac 1 {n + 1} \binom {2n} n = C_n \,.$$}@} <!--SR:!2025-01-13,71,310!2025-02-01,71,270!2024-12-25,52,290!2025-01-25,68,270!2025-01-14,66,270!2025-01-13,71,310!2025-01-13,71,310!2025-01-23,66,270!2025-02-13,90,290!2024-12-14,44,290!2025-01-22,65,270-->

### introducing a free parameter (snake oil method)

Sometimes {@{the sum _s<sub>n</sub>_ is complicated, and it is not always easy to evaluate}@}. {@{The "Free Parameter" method is another method (called "snake oil" by H. Wilf)}@} to evaluate these sums. <!--SR:!2024-12-31,62,310!2025-01-13,71,310-->

Both methods discussed so far {@{have _n_ as limit in the summation}@}. When {@{_n_ does not appear explicitly in the summation}@}, we may {@{consider _n_ as a "free" parameter and treat _s<sub>n</sub>_ as a coefficient of _F_(_z_) = Σ _s<sub>n</sub>_ _z<sup>n</sup>_}@}, change {@{the order of the summations on _n_ and _k_, and try to compute the inner sum}@}. <!--SR:!2024-12-31,62,310!2024-12-31,62,310!2025-02-01,71,270!2025-01-13,71,310-->

For example, if we want to compute $$s_{n}=\sum _{k=0}^{\infty }{ {\binom {n+k}{m+2k} }{\binom {2k}{k} }{\frac {(-1)^{k} }{k+1} } }\,,\quad m,n\in \mathbb {N} _{0}\,,$$ we can {@{treat _n_ as a "free" parameter}@}, and set {@{$$F(z)=\sum _{n=0}^{\infty }{\left(\sum _{k=0}^{\infty }{ {\binom {n+k}{m+2k} }{\binom {2k}{k} }{\frac {(-1)^{k} }{k+1} } }\right)}z^{n}\,.$$}@} Interchanging summation ("snake oil") gives {@{$$F(z)=\sum _{k=0}^{\infty }{ {\binom {2k}{k} }{\frac {(-1)^{k} }{k+1} }z^{-k} }\sum _{n=0}^{\infty }{ {\binom {n+k}{m+2k} }z^{n+k} }\,.$$}@} (Annotation: {@{Think of ways to simplify the inner sum. In this example, make $z^n$ to $z^{n + k}$ to match the top number in $\binom {n + k} {m + 2k}$.}@}) Now the inner sum is {@{$\frac {z^{m + 2k} } {(1 - z)^{m + 2k + 1} }$}@}. (Annotation: {@{Use this: $\frac 1 {(1 - z)^{m + 2k + 1} } = \sum_{n = 0}^\infty \binom {n + m + 2k} {m + 2k} z^n$. Then shift the coefficients to higher powers: $\frac {z^{m + 2k} } {(1 - z)^{m + 2k + 1} } = \sum_{n = 0}^\infty \binom {n + m + 2k} {m + 2k} z^{n + m + 2k} = \sum_{n = m + k}^\infty \binom {n + k} {m + 2k} z^{n + k}$. Terms lower than $z^{m + k}$ have zero coefficients due to the binomial coefficient and thus is equivalent.}@})⁠ Thus $${\begin{aligned}F(z)&={\frac {z^{m} }{(1-z)^{m+1} } }\sum _{k=0}^{\infty }{ {\frac {1}{k+1} }{\binom {2k}{k} }\left({\frac {-z}{(1-z)^{2} } }\right)^{k} }\\[4px]&={\frac {z^{m} }{(1-z)^{m+1} } }\sum _{k=0}^{\infty }{C_{k}\left({\frac {-z}{(1-z)^{2} } }\right)^{k} }&{\text{where } }C_{k}=k{\text{th Catalan number} }\\[4px]&={\frac {z^{m} }{(1-z)^{m+1} } }{\frac {1-{\sqrt {1+{\frac {4z}{(1-z)^{2} } } } } }{\frac {-2z}{(1-z)^{2} } } }\\[4px]&={\frac {-z^{m-1} }{2(1-z)^{m-1} } }\left(1-{\frac {1+z}{1-z} }\right)\\[4px]&={\frac {z^{m} }{(1-z)^{m} } }=z{\frac {z^{m-1} }{(1-z)^{m} } }\,.\end{aligned} }$$ Then we obtain $$s_{n}={\begin{cases}\displaystyle {\binom {n-1}{m-1} }&{\text{for } }m\geq 1\,,\\{}[n=0]&{\text{for } }m=0\,.\end{cases} }$$ <!--SR:!2025-01-13,71,310!2025-02-03,73,270!2025-01-07,55,270!2024-12-31,62,310!2024-12-22,43,250!2024-12-22,43,250-->

It is instructive to use the same method again for the sum, but {@{this time take _m_ as the free parameter instead of _n_}@}. We thus set {@{$$G(z)=\sum _{m=0}^{\infty }\left(\sum _{k=0}^{\infty }{\binom {n+k}{m+2k} }{\binom {2k}{k} }{\frac {(-1)^{k} }{k+1} }\right)z^{m}\,.$$}@} Interchanging summation ("snake oil") gives {@{$$G(z)=\sum _{k=0}^{\infty }{\binom {2k}{k} }{\frac {(-1)^{k} }{k+1} }z^{-2k}\sum _{m=0}^{\infty }{\binom {n+k}{m+2k} }z^{m+2k}\,.$$}@} (Annotation: {@{Think of ways to simplify the inner sum. In this example, make $z^m$ to $z^{m + 2k}$ to match the bottom number in $\binom {n + k} {m + 2k}$.}@}) Now the inner sum is {@{(1 + _z_)<sup>_n_ + _k_</sup>}@} (Annotation: {@{$(1 + z)^{n + k} = \sum_{m = 0}^{n + k} \binom {n + k} m z^m = \sum_{m = -2k}^{n - k} \binom {n + k} {m + 2k} z^{m + 2k}$. Terms higher than $z^{n + k}$ have zero coefficients due to the binomial coefficient and thus is equivalent. Terms from $z^0$ to $z^{2k - 1}$ can be ignored, because they will be sent to terms of negative order by the $z^{-2k}$ factor, but we do not extract terms of negative order.}@}). Thus $${\begin{aligned}G(z)&=(1+z)^{n}\sum _{k=0}^{\infty }{\frac {1}{k+1} }{\binom {2k}{k} }\left({\frac {-(1+z)}{z^{2} } }\right)^{k}\\[4px]&=(1+z)^{n}\sum _{k=0}^{\infty }C_{k}\,\left({\frac {-(1+z)}{z^{2} } }\right)^{k}&{\text{where } }C_{k}=k{\text{th Catalan number} }\\[4px]&=(1+z)^{n}\,{\frac {1-{\sqrt {1+{\frac {4(1+z)}{z^{2} } } } } }{\frac {-2(1+z)}{z^{2} } } }\\[4px]&=(1+z)^{n}\,{\frac {z^{2}-z{\sqrt {z^{2}+4+4z} } }{-2(1+z)} }\\[4px]&=(1+z)^{n}\,{\frac {z^{2}-z(z+2)}{-2(1+z)} }\\[4px]&=(1+z)^{n}\,{\frac {-2z}{-2(1+z)} }=z(1+z)^{n-1}\,.\end{aligned} }$$ Thus we obtain $$s_{n}=\left[z^{m}\right]z(1+z)^{n-1}=\left[z^{m-1}\right](1+z)^{n-1}={\binom {n-1}{m-1} }\,,$$ for _m_ ≥ 1 as before. <!--SR:!2024-12-02,36,290!2024-12-31,62,310!2025-02-28,98,290!2024-12-31,62,310!2024-12-22,43,250!2025-02-25,93,290-->

### generating functions prove congruences

We say that {@{two generating functions (power series) are congruent modulo _m_, written _A_(_z_) ≡ _B_(_z_) (mod _m_)}@} if {@{their coefficients are congruent modulo _m_ for all _n_ ≥ 0, i.e., _a<sub>n</sub>_ ≡ _b<sub>n</sub>_ (mod _m_) for all relevant cases of the integers _n_}@} (note that {@{we need not assume that _m_ is an integer here—it may very well be polynomial-valued in some indeterminate _x_, for example}@}). If {@{the "simpler" right-hand-side generating function, _B_(_z_), is a rational function of _z_}@}, then the form of this sequence suggests that {@{the sequence is [eventually periodic](periodic%20function.md) modulo fixed particular cases of integer-valued _m_ ≥ 2}@}. For example, we can prove that the [Euler numbers](Euler%20numbers.md), $$\langle E_{n}\rangle =\langle 1,1,5,61,1385,\ldots \rangle \longmapsto \langle 1,1,2,1,2,1,2,\ldots \rangle {\pmod {3} }\,,$$ satisfy {@{the following congruence modulo 3:<sup>[\[25\]](#^ref-25)</sup> $$\sum _{n=0}^{\infty }E_{n}z^{n}={\frac {1-z^{2} }{1+z^{2} } }{\pmod {3} }\,.$$}@} <!--SR:!2024-12-31,62,310!2025-02-21,89,290!2024-12-17,48,290!2025-01-13,71,310!2025-02-20,94,290!2024-12-22,43,250-->

One useful method of {@{obtaining congruences for sequences enumerated by special generating functions modulo any integers (i.e., not only prime powers _p<sup>k</sup>_)}@} is given in the section on continued fraction representations of (even non-convergent) ordinary generating functions by _J_-fractions above. We cite one particular result related to generating series expanded through a representation by continued fraction from Lando's _Lectures on Generating Functions_ as follows: <!--SR:!2024-12-22,43,250-->

> __Theorem: congruences for series generated by expansions of continued fractions__ — Suppose that the generating function _A_(_z_) is represented by an infinite [continued fraction](continued%20fraction.md) of the form $$A(z)={\cfrac {1}{1-c_{1}z-{\cfrac {p_{1}z^{2} }{1-c_{2}z-{\cfrac {p_{2}z^{2} }{1-c_{3}z-{\ddots } } } } } } }$$ and that _A<sub>p</sub>_(_z_) denotes the _p_-th convergent to this continued fraction expansion defined such that _a<sub>n</sub>_ = [_z<sup>n</sup>_] _A<sub>p</sub>_(_z_) for all $0 \le n < 2p$. Then:
>
> 1. the function _A<sub>p</sub>_(_z_) is rational for all _p_ ≥ 2 where we assume that one of divisibility criteria of _p_ | _p_<sub>1</sub>, _p_<sub>1</sub>_p_<sub>2</sub>, _p_<sub>1</sub>_p_<sub>2</sub>_p_<sub>3</sub> is met, that is, $p \mid p_1 p_2 \cdots p_k$ for some _k_ ≥ 1; and
> 2. if the integer _p_ divides the product $p_1 p_2 \cdots p_k$, then we have _A_(_z_) ≡ _A<sub>k</sub>_(_z_) (mod _p_).

Generating functions also have other uses in proving congruences for their coefficients. We cite the next two specific examples deriving special case congruences for {@{the [Stirling numbers of the first kind](Stirling%20numbers%20of%20the%20first%20kind.md) and for the [partition function _p_(_n_)](partition%20function%20(number%20theory).md)}@} which show the versatility of generating functions in tackling problems involving [integer sequences](integer%20sequence.md). <!--SR:!2025-02-18,92,290-->

#### the Stirling numbers modulo small integers

The [main article](stirling%20numbers%20of%20the%20first%20kind.md#congruences) on the Stirling numbers generated by the finite products $$S_{n}(x):=\sum _{k=0}^{n}{\begin{bmatrix}n\\k\end{bmatrix} }x^{k}=x(x+1)(x+2)\cdots (x+n-1)\,,\quad n\geq 1\,,$$ provides an overview of the congruences for these numbers derived strictly from properties of their generating function as in Section 4.6 of Wilf's stock reference _Generatingfunctionology_. We repeat the basic argument and notice that when reduces modulo 2, these finite product generating functions each satisfy $$S_{n}(x)=[x(x+1)]\cdot [x(x+1)]\cdots =x^{\left\lceil {\frac {n}{2} }\right\rceil }(x+1)^{\left\lfloor {\frac {n}{2} }\right\rfloor }\,,$$ which implies that the parity of these [Stirling numbers](stirling%20number.md) matches that of the binomial coefficient $${\begin{bmatrix}n\\k\end{bmatrix} }\equiv {\binom {\left\lfloor {\frac {n}{2} }\right\rfloor }{k-\left\lceil {\frac {n}{2} }\right\rceil } }{\pmod {2} }\,,$$ and consequently shows that [<sup>_n_</sup><sub>_k_</sub>] is even whenever _k_ < ⌊ ⁠_n_/2⁠ ⌋.

Similarly, we can reduce the right-hand-side products defining the Stirling number generating functions modulo 3 to obtain slightly more complicated expressions providing that $${\begin{aligned}{\begin{bmatrix}n\\m\end{bmatrix} }&\equiv [x^{m}]\left(x^{\left\lceil {\frac {n}{3} }\right\rceil }(x+1)^{\left\lceil {\frac {n-1}{3} }\right\rceil }(x+2)^{\left\lfloor {\frac {n}{3} }\right\rfloor }\right)&&{\pmod {3} }\\&\equiv \sum _{k=0}^{m}{\begin{pmatrix}\left\lceil {\frac {n-1}{3} }\right\rceil \\k\end{pmatrix} }{\begin{pmatrix}\left\lfloor {\frac {n}{3} }\right\rfloor \\m-k-\left\lceil {\frac {n}{3} }\right\rceil \end{pmatrix} }\times 2^{\left\lceil {\frac {n}{3} }\right\rceil +\left\lfloor {\frac {n}{3} }\right\rfloor -(m-k)}&&{\pmod {3} }\,.\end{aligned} }$

#### congruences for the partition function

In this example, we {@{pull in some of the machinery of infinite products whose power series expansions generate the expansions of many special functions and enumerate partition functions}@}. In particular, we recall that {@{_the_ [partition function](partition%20function%20(number%20theory).md) _p_(_n_)}@} is generated by {@{the reciprocal infinite [_q_-Pochhammer symbol](q-Pochhammer%20symbol.md) product (or _z_-Pochhammer product as the case may be)}@} given by {@{$${\begin{aligned}\sum _{n=0}^{\infty }p(n)z^{n}&={\frac {1}{\left(1-z\right)\left(1-z^{2}\right)\left(1-z^{3}\right)\cdots } }\\[4pt]&=1+z+2z^{2}+3z^{3}+5z^{4}+7z^{5}+11z^{6}+\cdots .\end{aligned} }$$}@} This partition function satisfies {@{many known [congruence properties](Ramanujan's%20congruences.md)}@}, which notably include the following results though {@{there are still many open questions about the forms of related integer congruences for the function}@}:<sup>[\[26\]](#^ref-26)</sup> $${\begin{aligned}p(5m+4)&\equiv 0{\pmod {5} }\\p(7m+5)&\equiv 0{\pmod {7} }\\p(11m+6)&\equiv 0{\pmod {11} }\\p(25m+24)&\equiv 0{\pmod {5^{2} } }\,.\end{aligned} }$$ <!--SR:!2025-02-23,95,290!2025-03-27,123,310!2024-12-02,36,290!2024-12-17,48,290!2025-01-13,71,310!2024-12-31,62,310-->

We show {@{how to use generating functions and manipulations of congruences for formal power series}@} to {@{give a highly elementary proof of the first of these congruences listed above}@}. <!--SR:!2024-12-31,62,310!2025-01-13,71,310-->

First, we observe that in {@{the binomial coefficient generating function $${\frac {1}{(1-z)^{5} } }=\sum _{i=0}^{\infty }{\binom {4+i}{4} }z^{i}\,,$$}@} all of the coefficients are {@{divisible by 5 except for those which correspond to the powers 1, _z_<sup>5</sup>, _z_<sup>10</sup>, ...}@} and moreover in those cases {@{the remainder of the coefficient is 1 modulo 5}@}. Thus, {@{$${\frac {1}{(1-z)^{5} } }\equiv {\frac {1}{1-z^{5} } }{\pmod {5} }\,,$$}@} or equivalently {@{$${\frac {1-z^{5} }{(1-z)^{5} } }\equiv 1{\pmod {5} }\,.$$}@} (Annotation: {@{$\frac {1 - z^5} {(1 - z)^5} = \frac 1 {(1 - z)^5} - \frac {z^5} {(1 - z)^5}$, so we have a sequence that is 1 iff its index is a multiple of 5, then we subtract from it a sequence that is shifted to the right by 5, so what remains is the coefficient 1 of $z^0$.}@}) It follows that {@{$${\frac {\left(1-z^{5}\right)\left(1-z^{10}\right)\left(1-z^{15}\right)\cdots }{\left((1-z)\left(1-z^{2}\right)\left(1-z^{3}\right)\cdots \right)^{5} } }\equiv 1{\pmod {5} }\,.$$}@} (Annotation: {@{Substitute $z^2$ into $z$. Then $z^3$ into $z$. Then $z^4$ into $z$. Continue forever... And multiply them together on both sides algebraically.}@}) Using the infinite product expansions of {@{$$z\cdot {\frac {\left(1-z^{5}\right)\left(1-z^{10}\right)\cdots }{\left(1-z\right)\left(1-z^{2}\right)\cdots } }=z\cdot \left((1-z)\left(1-z^{2}\right)\cdots \right)^{4}\times {\frac {\left(1-z^{5}\right)\left(1-z^{10}\right)\cdots }{\left(\left(1-z\right)\left(1-z^{2}\right)\cdots \right)^{5} } }\,,$$}@} (Annotation: {@{We are trying to make the congruence result above into a generating function that is similar to that generated by the partition function.}@}) it can be shown that {@{the coefficient of _z_<sup>5<!-- markdown separator -->_m_ + 5</sup> in _z_ · ((1 − _z_)(1 − _z_<sup>2</sup>)⋯)<sup>4</sup> is divisible by 5 for all _m_}@}. Then, {@{the coefficients of $z^{5m + 5}$ for both sides are divisible by 5, since $0 \cdot 1 \equiv 0 \pmod 5$}@}.<sup>[\[27\]](#^ref-27)</sup> Finally, since {@{$${\begin{aligned}\sum _{n=1}^{\infty }p(n-1)z^{n}&={\frac {z}{(1-z)\left(1-z^{2}\right)\cdots } }\\[6px]&=z\cdot {\frac {\left(1-z^{5}\right)\left(1-z^{10}\right)\cdots }{(1-z)\left(1-z^{2}\right)\cdots } }\times \left(1+z^{5}+z^{10}+\cdots \right)\left(1+z^{10}+z^{20}+\cdots \right)\cdots \end{aligned} }$$}@} (Annotation: {@{The first line is shifting. For the second line, notice that, for example, $\left(1 + z^5 + z^{10} \cdots \right)$ is the series expansion of $\frac 1 {1 - z^5}$.}@}) we may {@{equate the coefficients of _z_<sup>5<!-- markdown separator -->_m_ + 5</sup> in the previous equations}@} to prove our desired congruence result, namely that {@{_p_(5<!-- markdown separator -->_m_ + 4) ≡ 0 (mod 5) for all _m_ ≥ 0}@}. <!--SR:!2024-12-02,36,290!2025-01-13,71,310!2025-01-13,71,310!2024-12-31,62,310!2024-12-31,62,310!2025-01-13,71,310!2025-01-14,66,270!2025-01-02,64,310!2025-01-28,71,270!2024-12-17,48,290!2025-01-14,58,250!2024-12-17,48,290!2025-01-14,61,270!2024-12-31,62,310!2025-03-01,99,290!2024-12-21,42,250-->

### transformations of generating functions

There are {@{a number of transformations of generating functions that provide other applications}@} (see the [main article](generating%20function%20transformation.md)). A transformation of a sequence's _ordinary generating function_ (OGF) provides {@{a method of converting the generating function for one sequence into a generating function enumerating another}@}. These transformations typically involve {@{integral formulas involving a sequence OGF}@} (see [integral transformations](generating%20function%20transformation.md#Integral%20Transformations)) or {@{weighted sums over the higher-order derivatives of these functions}@} (see [derivative transformations](generating%20function%20transformation.md#Derivative%20Transformations)). <!--SR:!2024-12-31,62,310!2025-04-01,128,310!2025-02-02,72,270!2024-12-25,52,290-->

Generating function transformations can come into play when we seek to express a generating function for {@{the sums $$s_{n}:=\sum _{m=0}^{n}{\binom {n}{m} }C_{n,m}a_{m}\,,$$}@} in the form of {@{_S_(_z_) = _g_(_z_) _A_(_f_(_z_)) (_A_(_z_) is the closed form of the generating function for a<sub>_m_</sub>)}@} involving the original sequence generating function. For example, if the sums are $$s_{n}:=\sum _{k=0}^{\infty }{\binom {n+k}{m+2k} }a_{k}\,$$ then the generating function for the modified sum expressions is given by<sup>[\[28\]](#^ref-28)</sup> $$S(z)={\frac {z^{m} }{(1-z)^{m+1} } }A\left({\frac {z}{(1-z)^{2} } }\right)$$ (see also {@{the [binomial transform](binomial%20transform.md) and the [Stirling transform](Stirling%20transform.md)}@}). <!--SR:!2025-03-02,100,290!2024-12-22,43,250!2025-03-25,120,310-->

There are also {@{integral formulas for converting between a sequence's OGF, _F_(_z_), and its exponential generating function, or EGF, _F̂_(_z_), and vice versa}@} given by <!--SR:!2025-03-30,126,310-->

- exponential generating function to ordinary generating function ::@:: $$F(z)=\int _{0}^{\infty }{\hat {F} }(tz)e^{-t}\,dt\,,$$ <!--SR:!2024-12-17,37,230!2025-01-27,70,270-->
- ordinary generating function to exponential generating function ::@:: $${\hat {F} }(z)={\frac {1}{2\pi } }\int _{-\pi }^{\pi }F\left(ze^{-i\vartheta }\right)e^{e^{i\vartheta } }\,d\vartheta \,,$$ <!--SR:!2025-01-14,58,250!2024-12-16,38,230-->

provided that {@{these integrals converge for appropriate values of _z_}@}. <!--SR:!2025-01-13,71,310-->

## tables of special generating functions

An initial listing of special mathematical series is found [here](list%20of%20mathematical%20series.md). A number of useful and special sequence generating functions are found in Section 5.4 and 7.4 of _Concrete Mathematics_ and in Section 2.5 of Wilf's _Generatingfunctionology_. Other special generating functions of note include the entries in the next table, which is by no means complete.<sup>[\[29\]](#^ref-29)</sup>

| __Formal power series__                                                                           | __Generating-function formula__                                                                                   | __Notes__                                                                                                                                                                                                                                                                                                     |
| ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| $$\sum _{n=0}^{\infty }{\binom {m+n}{n} }\left(H_{n+m}-H_{m}\right)z^{n}$$                        | $${\frac {1}{(1-z)^{m+1} } }\ln {\frac {1}{1-z} }$$                                                               | $H_{n}$ is a first-order [harmonic number](harmonic%20number.md)                                                                                                                                                                                                                                              |
| $$\sum _{n=0}^{\infty }B_{n}{\frac {z^{n} }{n!} }$$                                               | $${\frac {z}{e^{z}-1} }$$                                                                                         | $B_{n}$ is a [Bernoulli number](bernoulli%20number.md)                                                                                                                                                                                                                                                        |
| $$\sum _{n=0}^{\infty }F_{mn}z^{n}$$                                                              | $${\frac {F_{m}z}{1-(F_{m-1}+F_{m+1})z+(-1)^{m}z^{2} } }$$                                                        | $F_{n}$ is a [Fibonacci number](fibonacci%20sequence.md) and $m\in \mathbb {Z} ^{+}$                                                                                                                                                                                                                          |
| $$\sum _{n=0}^{\infty }\left\{ {\begin{matrix}n\\m\end{matrix} }\right\}z^{n}$$                   | $$(z^{-1})^{\overline {-m} }={\frac {z^{m} }{(1-z)(1-2z)\cdots (1-mz)} }$$                                        | $x^{\overline {n} }$ denotes the [rising factorial](falling%20and%20rising%20factorials.md), or [Pochhammer symbol](falling%20and%20rising%20factorials.md) and some integer $m\geq 0$                                                                                                                        |
| $$\sum _{n=0}^{\infty }\left[{\begin{matrix}n\\m\end{matrix} }\right]z^{n}$$                      | $$z^{\overline {m} }=z(z+1)\cdots (z+m-1)$$                                                                       |                                                                                                                                                                                                                                                                                                               |
| $$\sum _{n=1}^{\infty }{\frac {(-1)^{n-1}4^{n}(4^{n}-2)B_{2n}z^{2n} }{(2n)\cdot (2n)!} }$$        | $$\ln {\frac {\tan(z)}{z} }$$                                                                                     |                                                                                                                                                                                                                                                                                                               |
| $$\sum _{n=0}^{\infty }{\frac {(1/2)^{\overline {n} }z^{2n} }{(2n+1)\cdot n!} }$$                 | $$z^{-1}\arcsin(z)$$                                                                                              |                                                                                                                                                                                                                                                                                                               |
| $$\sum _{n=0}^{\infty }H_{n}^{(s)}z^{n}$$                                                         | $${\frac {\operatorname {Li} _{s}(z)}{1-z} }$$                                                                    | $\operatorname {Li} _{s}(z)$ is the [polylogarithm](polylogarithm.md) function and $H_{n}^{(s)}$ is a generalized [harmonic number](harmonic%20number.md) for $\Re (s)>1$                                                                                                                                     |
| $$\sum _{n=0}^{\infty }n^{m}z^{n}$$                                                               | $$\sum _{0\leq j\leq m}\left\{ {\begin{matrix}m\\j\end{matrix} }\right\}{\frac {j!\cdot z^{j} }{(1-z)^{j+1} } }$$ | $\left\{ {\begin{matrix}n\\m\end{matrix} }\right\}$ is a [Stirling number of the second kind](stirling%20numbers%20of%20the%20second%20kind.md) and where the individual terms in the expansion satisfy ${\frac {z^{i} }{(1-z)^{i+1} } }=\sum _{k=0}^{i}{\binom {i}{k} }{\frac {(-1)^{k-i} }{(1-z)^{k+1} } }$ |
| $$\sum_{k<n}{\binom {n-k}{k} }{\frac {n}{n-k} }z^{k}$$                                            | $$\left({\frac {1+{\sqrt {1+4z} } }{2} }\right)^{n}+\left({\frac {1-{\sqrt {1+4z} } }{2} }\right)^{n}$$           |                                                                                                                                                                                                                                                                                                               |
| $$\sum _{n_{1},\ldots ,n_{m}\geq 0}\min(n_{1},\ldots ,n_{m})z_{1}^{n_{1} }\cdots z_{m}^{n_{m} }$$ | $${\frac {z_{1}\cdots z_{m} }{(1-z_{1})\cdots (1-z_{m})(1-z_{1}\cdots z_{m})} }$$                                 | The two-variable case is given by $M(w,z):=\sum _{m,n\geq 0}\min(m,n)w^{m}z^{n}={\frac {wz}{(1-w)(1-z)(1-wz)} }$                                                                                                                                                                                              |
| $$\sum_{n=0}^{\infty }{\binom {s}{n} }z^{n}$$                                                     | $$(1+z)^{s}$$                                                                                                     | $$s\in \mathbb {C}$$                                                                                                                                                                                                                                                                                          |
| $$\sum _{n=0}^{\infty }{\binom {n}{k} }z^{n}$$                                                    | $${\frac {z^{k} }{(1-z)^{k+1} } }$$                                                                               | $$k\in \mathbb {N}$$                                                                                                                                                                                                                                                                                          |
| $$\sum _{n=1}^{\infty }\log {(n)}z^{n}$$                                                          | $$\left.-{\frac {\partial }{\partial s} }\operatorname { {Li}_{s}(z)} \right\vert_{s=0}$$                         |                                                                                                                                                                                                                                                                                                               |

## see also

- [moment-generating function](moment-generating%20function.md)
- [probability-generating function](probability-generating%20function.md)
- [generating function transformation](generating%20function%20transformation.md)
- [Stanley's reciprocity theorem](Stanley's%20reciprocity%20theorem.md)
- [integer partition](integer%20partition.md)
- [combinatorial principles](combinatorial%20principles.md)
- [cyclic sieving](cyclic%20sieving.md)
- [Z-transform](Z-transform.md)
- [umbral calculus](umbral%20calculus.md)
- [coins in a fountain](coins%20in%20a%20fountain.md)

## notes

1. Incidentally, we also have a corresponding formula when _m_ < 0 given by $$\sum _{n=0}^{\infty }g_{n+m}z^{n}={\frac {G(z)-g_{0}-g_{1}z-\cdots -g_{m-1}z^{m-1} }{z^{m} } }\,.$$

## references

This text incorporates [content](https://en.wikipedia.org/wiki/generating_function) from [Wikipedia](Wikipedia.md) available under the [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/) license.

1. This alternative term can already be found in E.N. Gilbert (1956), "Enumeration of Labeled graphs", _[Canadian Journal of Mathematics](Canadian%20Journal%20of%20Mathematics.md)_ 3, [p. 405–411](https://books.google.com/books?id=x34z99fCRbsC&dq=%22generating+series%22&pg=PA407), but its use is rare before the year 2000; since then it appears to be increasing. <a id="^ref-1"></a>^ref-1
2. [Knuth, Donald E.](Donald%20Knuth.md) (1997). "§1.2.9 Generating Functions". _Fundamental Algorithms_. [The Art of Computer Programming](The%20Art%20of%20Computer%20Programming.md). Vol. 1 (3rd ed.). Addison-Wesley. [ISBN](ISBN.md) [0-201-89683-4](https://en.wikipedia.org/wiki/Special%3ABookSources/0-201-89683-4). <a id="^ref-2"></a>^ref-2
3. [Flajolet & Sedgewick 2009](#CITEREFFlajoletSedgewick2009), p. 95 <a id="^ref-3"></a>^ref-3
4. ["Lambert series identity"](https://mathoverflow.net/q/140418). _Math Overflow_. 2017. <a id="^ref-4"></a>^ref-4
5. [Apostol, Tom M.](Tom%20M.%20Apostol.md) (1976), _Introduction to analytic number theory_, Undergraduate Texts in Mathematics, New York-Heidelberg: Springer-Verlag, [ISBN](ISBN.md) [978-0-387-90163-3](https://en.wikipedia.org/wiki/Special%3ABookSources/978-0-387-90163-3), [MR](Mathematical%20Reviews.md) [0434929](https://mathscinet.ams.org/mathscinet-getitem?mr=0434929), [Zbl](ZbMATH%20Open.md) [0335.10001](https://zbmath.org/?format=complete&q=an:0335.10001) pp.42–43 <a id="^ref-5"></a>^ref-5
6. [Wilf 1994](#CITEREFWilf1994), p. 56 <a id="^ref-6"></a>^ref-6
7. [Wilf 1994](#CITEREFWilf1994), p. 59 <a id="^ref-7"></a>^ref-7
8. Hardy, G.H.; Wright, E.M.; Heath-Brown, D.R; Silverman, J.H. (2008). [_An Introduction to the Theory of Numbers_](https://archive.org/details/introductiontoth00ghha_922) (6th ed.). Oxford University Press. p. [339](https://archive.org/details/introductiontoth00ghha_922/page/n357). [ISBN](ISBN.md) [9780199219858](https://en.wikipedia.org/wiki/Special%3ABookSources/9780199219858). <a id="^ref-8"></a>^ref-8
9. Knuth, D. E. (1992). "Convolution Polynomials". _Mathematica J_. __2__: 67–78. [arXiv](ArXiv.md):[math/9207221](https://arxiv.org/abs/math/9207221). [Bibcode](bibcode.md):[1992math......7221K](https://ui.adsabs.harvard.edu/abs/1992math......7221K). <a id="^ref-9"></a>^ref-9
10. Spivey, Michael Z. (2007). ["Combinatorial Sums and Finite Differences"](https://doi.org/10.1016%2Fj.disc.2007.03.052). _Discrete Math_. __307__ (24): 3130–3146. [doi](digital%20object%20identifier.md):[10.1016/j.disc.2007.03.052](https://doi.org/10.1016%2Fj.disc.2007.03.052). [MR](Mathematical%20Reviews.md) [2370116](https://mathscinet.ams.org/mathscinet-getitem?mr=2370116). <a id="^ref-10"></a>^ref-10
11. Mathar, R. J. (2012). "Yet another table of integrals". [arXiv](ArXiv.md):[1207.5845](https://arxiv.org/abs/1207.5845) [[math.CA](https://arxiv.org/archive/math.CA)]. v4 eq. (0.4) <a id="^ref-11"></a>^ref-11
12. [Graham, Knuth & Patashnik 1994](#CITEREFGrahamKnuthPatashnik1994), Table 265 in §6.1 for finite sum identities involving the Stirling number triangles. <a id="^ref-12"></a>^ref-12
13. [Lando 2003](#CITEREFLando2003), §2.4 <a id="^ref-13"></a>^ref-13
14. Example from Stanley, Richard P.; Fomin, Sergey (1997). "§6.3". [_Enumerative Combinatorics: Volume 2_](https://books.google.com/books?id=zg5wDqT6T-UC). Cambridge Studies in Advanced Mathematics. Vol. 62. Cambridge University Press. [ISBN](ISBN.md) [978-0-521-78987-5](https://en.wikipedia.org/wiki/Special%3ABookSources/978-0-521-78987-5). <a id="^ref-14"></a>^ref-14
15. [Knuth 1997](#CITEREFKnuth1997), §1.2.9 <a id="^ref-15"></a>^ref-15
16. Solution to [Graham, Knuth & Patashnik 1994](#CITEREFGrahamKnuthPatashnik1994), p. 569, exercise 7.36 <a id="^ref-16"></a>^ref-16
17. [Flajolet & Sedgewick 2009](#CITEREFFlajoletSedgewick2009), §B.4 <a id="^ref-17"></a>^ref-17
18. Schneider, C. (2007). ["Symbolic Summation Assists Combinatorics"](http://www.emis.de/journals/SLC/wpapers/s56schneider.html). _Sém. Lothar. Combin_. __56__: 1–36. <a id="^ref-18"></a>^ref-18
19. See the usage of these terms in [Graham, Knuth & Patashnik 1994](#CITEREFGrahamKnuthPatashnik1994), §7.4 on special sequence generating functions. <a id="^ref-19"></a>^ref-19
20. Good, I. J. (1986). ["On applications of symmetric Dirichlet distributions and their mixtures to contingency tables"](https://doi.org/10.1214%2Faos%2F1176343649). _[Annals of Statistics](Annals%20of%20Statistics.md)_. __4__ (6): 1159–1189. [doi](digital%20object%20identifier.md):[10.1214/aos/1176343649](https://doi.org/10.1214%2Faos%2F1176343649). <a id="^ref-20"></a>^ref-20
21. For more complete information on the properties of _J_-fractions see: <a id="^ref-21"></a>^ref-21
    - Flajolet, P. (1980). ["Combinatorial aspects of continued fractions"](http://algo.inria.fr/flajolet/Publications/Flajolet80b.pdf) (PDF). _Discrete Mathematics_. __32__ (2): 125–161. [doi](digital%20object%20identifier.md):[10.1016/0012-365X(80)90050-3](https://doi.org/10.1016%2F0012-365X%2880%2990050-3).
    - Wall, H.S. (2018) [1948]. [_Analytic Theory of Continued Fractions_](https://books.google.com/books?id=86ReDwAAQBAJ&pg=PR7). Dover. [ISBN](ISBN.md) [978-0-486-83044-5](https://en.wikipedia.org/wiki/Special%3ABookSources/978-0-486-83044-5).
22. See the following articles: <a id="^ref-22"></a>^ref-22
    - Schmidt, Maxie D. (2016). "Continued Fractions for Square Series Generating Functions". [arXiv](ArXiv.md):[1612.02778](https://arxiv.org/abs/1612.02778) [[math.NT](https://arxiv.org/archive/math.NT)].
    - — (2017). ["Jacobi-Type Continued Fractions for the Ordinary Generating Functions of Generalized Factorial Functions"](https://cs.uwaterloo.ca/journals/JIS/VOL20/Schmidt/schmidt14.html). _Journal of Integer Sequences_. __20__. [arXiv](ArXiv.md):[1610.09691](https://arxiv.org/abs/1610.09691). 17.3.4.
    - — (2017). "Jacobi-Type Continued Fractions and Congruences for Binomial Coefficients Modulo Integers _h_ ≥ 2". [arXiv](ArXiv.md):[1702.01374](https://arxiv.org/abs/1702.01374) [[math.CO](https://arxiv.org/archive/math.CO)].
23. [Graham, Knuth & Patashnik 1994](#CITEREFGrahamKnuthPatashnik1994), §8.3 <a id="^ref-23"></a>^ref-23
24. [Graham, Knuth & Patashnik 1994](#CITEREFGrahamKnuthPatashnik1994), Example 6 in §7.3 for another method and the complete setup of this problem using generating functions. This more "convoluted" approach is given in Section 7.5 of the same reference. <a id="^ref-24"></a>^ref-24
25. [Lando 2003](#CITEREFLando2003), §5 <a id="^ref-25"></a>^ref-25
26. [Hardy et al. 2008](#CITEREFHardyWrightHeath-BrownSilverman2008), §19.12 <a id="^ref-26"></a>^ref-26
27. Hardy, G.H.; Wright, E.M. _An Introduction to the Theory of Numbers_. p.288, Th.361 <a id="^ref-27"></a>^ref-27
28. [Graham, Knuth & Patashnik 1994](#CITEREFGrahamKnuthPatashnik1994), p. 535, exercise 5.71 <a id="^ref-28"></a>^ref-28
29. See also the _1031 Generating Functions_ found in Plouffe, Simon (1992). _Approximations de séries génératrices et quelques conjectures_ [_Approximations of generating functions and a few conjectures_] (Masters) (in French). Université du Québec à Montréal. [arXiv](ArXiv.md):[0911.4975](https://arxiv.org/abs/0911.4975). <a id="^ref-29"></a>^ref-29

### citations

- Aigner, Martin (2007). [_A Course in Enumeration_](https://books.google.com/books?id=pPEJcu93dzAC). Graduate Texts in Mathematics. Vol. 238. Springer. [ISBN](ISBN.md) [978-3-540-39035-0](https://en.wikipedia.org/wiki/Special%3ABookSources/978-3-540-39035-0).
- Doubilet, Peter; [Rota, Gian-Carlo](Gian-Carlo%20Rota.md); [Stanley, Richard](Richard%20P.%20Stanley.md) (1972). ["On the foundations of combinatorial theory. VI. The idea of generating function"](http://projecteuclid.org/euclid.bsmsp/1200514223). _Proceedings of the Sixth Berkeley Symposium on Mathematical Statistics and Probability_. __2__: 267–318. [Zbl](ZbMATH%20Open.md) [0267.05002](https://zbmath.org/?format=complete&q=an:0267.05002). Reprinted in [Rota, Gian-Carlo](Gian-Carlo%20Rota.md) (1975). "3. The idea of generating function". _Finite Operator Calculus_. With the collaboration of P. Doubilet, C. Greene, D. Kahaner, [A. Odlyzko](Andrew%20Odlyzko.md) and [R. Stanley](Richard%20P.%20Stanley.md). Academic Press. pp. 83–134. [ISBN](ISBN.md) [0-12-596650-4](https://en.wikipedia.org/wiki/Special%3ABookSources/0-12-596650-4). [Zbl](ZbMATH%20Open.md) [0328.05007](https://zbmath.org/?format=complete&q=an:0328.05007).
- [Flajolet, Philippe](Philippe%20Flajolet.md); [Sedgewick, Robert](Robert%20Sedgewick%20(computer%20scientist).md) (2009). [_Analytic Combinatorics_](Analytic%20Combinatorics%20(book).md). Cambridge University Press. [ISBN](ISBN.md) [978-0-521-89806-5](https://en.wikipedia.org/wiki/Special%3ABookSources/978-0-521-89806-5). [Zbl](ZbMATH%20Open.md) [1165.05001](https://zbmath.org/?format=complete&q=an:1165.05001).
- Goulden, Ian P.; [Jackson, David M.](David%20M.%20Jackson.md) (2004). _Combinatorial Enumeration_. [Dover Publications](Dover%20Publications.md). [ISBN](ISBN.md) [978-0486435978](https://en.wikipedia.org/wiki/Special%3ABookSources/978-0486435978).
- [Graham, Ronald L.](Ronald%20Graham.md); [Knuth, Donald E.](Donald%20Knuth.md); [Patashnik, Oren](Oren%20Patashnik.md) (1994). "Chapter 7: Generating Functions". _[Concrete Mathematics. A foundation for computer science](Concrete%20Mathematics.md)_ (2nd ed.). Addison-Wesley. pp. 320–380. [ISBN](ISBN.md) [0-201-55802-5](https://en.wikipedia.org/wiki/Special%3ABookSources/0-201-55802-5). [Zbl](ZbMATH%20Open.md) [0836.00001](https://zbmath.org/?format=complete&q=an:0836.00001).
- Lando, Sergei K. (2003). [_Lectures on Generating Functions_](https://books.google.com/books?id=A6_4AwAAQBAJ). American Mathematical Society. [ISBN](ISBN.md) [978-0-8218-3481-7](https://en.wikipedia.org/wiki/Special%3ABookSources/978-0-8218-3481-7).
- [Wilf, Herbert S.](Herbert%20Wilf.md) (1994). [_Generatingfunctionology_](http://www.math.upenn.edu/%7Ewilf/DownldGF.html) (2nd ed.). Academic Press. [ISBN](ISBN.md) [0-12-751956-4](https://en.wikipedia.org/wiki/Special%3ABookSources/0-12-751956-4). [Zbl](ZbMATH%20Open.md) [0831.05001](https://zbmath.org/?format=complete&q=an:0831.05001).

## external links

- ["Introduction To Ordinary Generating Functions"](http://garsia.math.yorku.ca/~zabrocki/MMM1/MMM1Intro2OGFs.pdf) by Mike Zabrocki, York University, Mathematics and Statistics
- ["Generating function"](https://www.encyclopediaofmath.org/index.php?title=Generating_function), _[Encyclopedia of Mathematics](Encyclopedia%20of%20Mathematics.md)_, [EMS Press](European%20Mathematical%20Society.md), 2001 [1994]
- [Generating Functions, Power Indices and Coin Change](http://www.cut-the-knot.org/ctk/GeneratingFunctions.shtml) at [cut-the-knot](Alexander%20Bogomolny.md#Cut-the-Knot)
- ["Generating Functions"](http://demonstrations.wolfram.com/GeneratingFunctions/) by [Ed Pegg Jr.](Ed%20Pegg%20Jr..md), [Wolfram Demonstrations Project](Wolfram%20Demonstrations%20Project.md), 2007.
