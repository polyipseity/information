---
aliases:
  - combinatorial proof
  - combinatorial proofs
tags:
  - flashcard/active/general/eng/combinatorial_proof
  - language/in/English
---

# combinatorial proof

In [mathematics](mathematics.md), the term ___combinatorial proof___ is {@{often used to mean either of two types of [mathematical proof](mathematical%20proof.md)}@}: <!--SR:!2025-11-05,299,330-->

- A proof by [double counting](double%20counting%20(proof%20technique).md). ::@:: A [combinatorial](combinatorics.md) [identity](identity%20(mathematics).md) is proven by counting the number of elements of some carefully chosen set in two different ways to obtain the different expressions in the identity. Since those expressions count the same objects, they must be equal to each other and thus the identity is established. <!--SR:!2025-08-18,220,310!2025-11-06,300,330-->
- A [bijective proof](bijective%20proof.md). ::@:: Two sets are shown to have the same number of members by exhibiting a [bijection](bijection.md), i.e. a one-to-one correspondence, between them. <!--SR:!2025-11-02,296,330!2025-11-08,302,330-->

The term "combinatorial proof" may also be used {@{more broadly to refer to any kind of [elementary proof](elementary%20proof.md) in combinatorics}@}. However, as [Glass (2003)](#CITEREFGlass2003) writes in his review of [Benjamin & Quinn (2003)](#CITEREFBenjaminQuinn2003) (a book about combinatorial proofs), these two simple techniques are {@{enough to prove many theorems in combinatorics and [number theory](number%20theory.md)}@}. <!--SR:!2025-11-08,302,330!2025-11-13,307,330-->

## example

An archetypal double counting proof is {@{for the well known formula for the number ${\tbinom {n}{k} }$ of _k_-[combinations](combination.md) (i.e., subsets of size _k_) of an _n_-element set}@}: {@{$${\binom {n}{k} }={\frac {n(n-1)\cdots (n-k+1)}{k(k-1)\cdots 1} }.$$}@} Here {@{a direct bijective proof is not possible}@}: because {@{the right-hand side of the identity is a fraction, there is no set _obviously_ counted by it (it even takes some thought to see that the denominator always evenly divides the numerator)}@}. However {@{its numerator counts the [Cartesian product](cartesian%20product.md) of _k_ finite sets of sizes _n_, _n_ − 1, ..., _n_ − _k_ + 1}@}, while {@{its denominator counts the [permutations](permutation.md) of a _k_-element set}@} (the set most obviously counted by the denominator would be {@{another Cartesian product of _k_ finite sets; if desired one could map permutations to that set by an explicit bijection}@}). Now {@{take _S_ to be the set of sequences (so order matters) of _k_ elements selected from our _n_-element set without repetition}@}. On one hand, there is {@{an easy bijection of _S_ with the Cartesian product corresponding to the numerator $n(n-1)\cdots (n-k+1)$ ($n$ choices for the 1st element, $n - 1$ choices for the 2nd element, etc.)}@}, and on the other hand there is {@{a bijection from the set _C_ of pairs of a _k_-combination (corresponds to $\binom n k$) and a permutation _σ_ of _k_ (corresponds to $k!$) to _S_}@}, by {@{taking the elements of _C_ in increasing order, and then permuting this sequence by _σ_ to obtain an element of _S_}@}. The two ways of counting give the equation {@{$$n(n-1)\cdots (n-k+1)={\binom {n}{k} }k!,$$}@} and {@{after division by _k_! this leads to the stated formula for ${\tbinom {n}{k} }$}@}. In general, if {@{the counting formula involves a division}@}, {@{a similar double counting argument (if it exists) gives the most straightforward combinatorial proof of the identity}@}, but {@{double counting arguments are not limited to situations where the formula is of this form}@}. <!--SR:!2025-11-13,307,330!2025-11-07,301,330!2025-11-13,307,330!2025-11-04,298,330!2025-11-07,301,330!2025-11-09,303,330!2025-11-03,297,330!2025-08-20,222,310!2025-11-11,305,330!2025-11-10,304,330!2025-11-09,303,330!2025-11-13,307,330!2025-11-10,304,330!2025-11-06,300,330!2025-03-18,103,270!2025-11-02,296,330-->

Here is a simpler, more informal combinatorial proof of the same identity: {@{$${\binom {n}{k} }k!(n-k)!=n!$$}@} Suppose that {@{_n_ people would like to enter a museum, but the museum only has room for _k_ people}@}. First {@{choose which _k_ people from among the _n_ people will be allowed in. There are ${\tbinom {n}{k} }$ ways to do this by definition}@}. Now {@{order the _k_ people into a single-file line so that they may pay one at a time. There are _k_! ways to permute this set of size _k_}@}. Next, {@{order the _n_ − _k_ people who must remain outside into a single-file line so that later they can enter one at a time, as the others leave. There are (_n_ − _k_)! ways to do this}@}. But {@{now we have ordered the entire group of _n_ people, something which can be done in _n_! ways}@}. So {@{both sides count the number of ways to order the _n_ people}@}. {@{Division}@} yields the well-known formula for ${\tbinom {n}{k} }$. <!--SR:!2025-11-05,299,330!2025-11-12,306,330!2025-11-03,297,330!2025-10-30,293,330!2025-08-19,221,310!2025-11-12,306,330!2025-11-11,305,330!2025-11-11,305,330-->

## the benefit of a combinatorial proof

[Stanley (1997)](#CITEREFStanley1997) gives an example of a [combinatorial enumeration](enumerative%20combinatorics.md) problem ({@{counting the number of sequences of _k_ subsets _S_<sub>1</sub>, _S_<sub>2</sub>, ... _S_<sub>_k_</sub>, that can be formed from a set of _n_ items such that the intersection of all the subsets is empty}@}) with {@{two different proofs for its solution}@}. The first proof, which is {@{not combinatorial, uses [mathematical induction](mathematical%20induction.md) and [generating functions](generating%20function.md)}@} to {@{find that the number of sequences of this type is (2<sup>_k_</sup> −1)<sup>_n_</sup>}@}. The second proof is {@{based on the observation that there are 2<sup>_k_</sup> −1 [proper subsets](subset.md) of the set {1, 2, ..., _k_}<!-- flashcard separator -->}@}, and {@{(2<sup>_k_</sup> −1)<sup>_n_</sup> functions from the set {1, 2, ..., _n_} to the family of proper subsets of {1, 2, ..., _k_} (there are $n$ elements in the domain, and there are $2^k - 1$ possible outputs for each element in the domain)}@}. The sequences to be counted can be {@{placed in one-to-one correspondence with these functions, where the function formed from a given sequence of subsets maps each element _i_ to the set {_j_ | _i_ ∈ _S_<sub>_j_</sub>}<!-- flashcard separator -->}@}. (annotation: {@{The function maps each element of the $n$ items to the set of indices of the sets they are in out of the $k$ sets. Since the set of indices of all $k$ sets, i.e. $\set{1, \ldots, k}$ is not in the co-domain, so no items are in all $k$ sets, and the intersection of the $k$ sets is empty.}@}) <!--SR:!2025-05-23,153,290!2025-11-12,306,330!2025-10-31,294,330!2025-11-11,305,330!2025-11-01,295,330!2025-05-24,154,290!2025-11-13,307,330!2025-05-26,156,290-->

Stanley writes, "Not only is {@{the above combinatorial proof much shorter than our previous proof}@}, but also {@{it makes the reason for the simple answer completely transparent}@}. It is often the case, as occurred here, that {@{the first proof to come to mind turns out to be laborious and inelegant}@}, but {@{that the final answer suggests a simple combinatorial proof}@}." Due both to {@{their frequent greater elegance than non-combinatorial proofs and the greater insight they provide into the structures they describe}@}, Stanley formulates a general principle that {@{combinatorial proofs are to be preferred over other proofs}@}, and lists as exercises many problems of finding combinatorial proofs for mathematical facts known to be true through other means. <!--SR:!2025-11-09,303,330!2025-11-08,302,330!2025-07-21,211,310!2025-11-11,305,330!2025-10-30,293,330!2025-11-01,295,330-->

## the difference between bijective and double counting proofs

Stanley does not {@{clearly distinguish between bijective and double counting proofs, and gives examples of both kinds}@}, but the difference between the two types of combinatorial proof can be seen in an example provided by [Aigner & Ziegler (1998)](#CITEREFAignerZiegler1998), of proofs for {@{[Cayley's formula](Cayley's%20formula.md)}@} stating that {@{there are _n_<sup>_n_ − 2</sup> different [trees](tree%20(graph%20theory).md) that can be formed from a given set of _n_ nodes}@}. Aigner and Ziegler list {@{four proofs of this theorem}@}, the first of which is {@{bijective and the last of which is a double counting argument}@}. They also {@{mention but do not describe the details of a fifth bijective proof}@}. <!--SR:!2025-11-05,299,330!2025-03-21,106,270!2025-05-23,153,290!2025-11-04,298,330!2025-11-09,303,330!2025-11-11,305,330-->

The most natural way to find a bijective proof of this formula would be to {@{find a bijection between _n_-node trees and some collection of objects that has _n_<sup>_n_ − 2</sup> members}@}, such as {@{the sequences of _n_ − 2 values each in the range from 1 to _n_}@}. Such a bijection can be obtained using {@{the [Prüfer sequence](prüfer%20sequence.md) of each tree}@}. Any tree can be {@{uniquely encoded into a Prüfer sequence, and any Prüfer sequence can be uniquely decoded into a tree}@}; these two results together {@{provide a bijective proof of Cayley's formula}@}. <!--SR:!2025-11-10,304,330!2025-11-01,295,330!2025-11-10,304,330!2025-11-10,304,330!2025-05-24,154,290-->

An alternative bijective proof, given by Aigner and Ziegler and credited by them to [André Joyal](André%20Joyal.md), involves a bijection between, {@{on the one hand, _n_-node trees with two designated nodes (that may be the same as each other), and on the other hand, _n_-node [directed](directed%20graph.md) [pseudoforests](pseudoforest.md)}@}. If there are {@{_T<sub>n</sub>_ _n_-node trees, then there are _n_<sup>2</sup>_T<sub>n</sub>_ trees with two designated nodes}@}. And a pseudoforest may be {@{determined by specifying, for each of its nodes, the endpoint of the edge extending outwards from that node}@}; there are {@{_n_ possible choices for the endpoint of a single edge (allowing self-loops) and therefore _n<sup>n</sup>_ possible pseudoforests}@}. By {@{finding a bijection between trees with two labeled nodes and pseudoforests}@}, Joyal's proof shows that {@{_T<sub>n</sub>_ = _n_<sup>_n_ − 2</sup>}@}. <!--SR:!2025-11-12,306,330!2025-11-07,301,330!2025-05-22,152,290!2025-11-06,300,330!2025-10-31,294,330!2025-11-07,301,330-->

Finally, the fourth proof of Cayley's formula presented by Aigner and Ziegler is {@{a [double counting proof due to Jim Pitman](double%20counting%20(proof%20technique).md#counting%20trees)}@}. In this proof, Pitman considers {@{the sequences of directed edges that may be added to an _n_-node [empty graph](null%20graph.md) to form from it a single rooted tree}@}, and {@{counts the number of such sequences in two different ways}@}. By {@{showing how to derive a sequence of this type by choosing a tree, a root for the tree, and an ordering for the edges in the tree}@}, he shows that there are {@{_T<sub>n</sub>n_! possible sequences of this type}@}. And by {@{counting the number of ways in which a partial sequence can be extended by a single edge}@}, he shows that {@{there are _n_<sup>_n_ − 2</sup>_n_! possible sequences}@}. (annotation: {@{For the 1st directed edge, we have $n$ starting points and $n - 1$ ending points. Since the tree is directed and single rooted, the chosen ending point cannot be an ending point again. So the 2nd directed edge have $n$ starting points and $n - 2$ ending points. Repeat this $n - 1$ times to get $n^{n - 1} (n-1)! = n^{n - 2} n!$.}@}) {@{Equating these two different formulas for the size of the same set of edge sequences and cancelling the common factor of _n_!}@} leads to Cayley's formula. <!--SR:!2025-07-23,214,310!2025-05-21,151,290!2025-11-03,297,330!2025-11-06,300,330!2025-11-04,298,330!2025-11-12,306,330!2025-11-08,302,330!2025-11-12,306,330!2025-07-24,215,310-->

## related concepts

- {@{The principles of double counting and bijection used in combinatorial proofs}@} can be seen as {@{examples of a larger family of [combinatorial principles](combinatorial%20principles.md)}@}, which include also other ideas such as the [pigeonhole principle](pigeonhole%20principle.md).
- Proving an identity combinatorially can be viewed as {@{adding more structure to the identity by replacing numbers by sets}@}; similarly, {@{[categorification](categorification.md) is the replacement of sets by categories}@}. <!--SR:!2025-11-09,303,330!2025-11-02,296,330!2025-05-27,157,290!2025-11-10,304,330-->

## references

This text incorporates [content](https://en.wikipedia.org/wiki/combinatorial_proof) from [Wikipedia](Wikipedia.md) available under the [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/) license.

- <a id="CITEREFAignerZiegler1998"></a> Aigner, Martin; [Ziegler, Günter M.](Günter%20M.%20Ziegler.md) \(1998\), _[Proofs from THE BOOK](Proofs%20from%20THE%20BOOK.md)_, [Springer-Verlag](Springer%20Science+Business%20Media.md#history), pp. 141–146, [ISBN](ISBN.md) [3-540-40460-0](https://en.wikipedia.org/wiki/Special:BookSources/3-540-40460-0).
- <a id="CITEREFBenjaminQuinn2003"></a> [Benjamin, Arthur T.](Arthur%20T.%20Benjamin.md); [Quinn, Jennifer J.](Jennifer%20Quinn.md) \(2003\), [_Proofs that Really Count: The Art of Combinatorial Proof_](Proofs%20That%20Really%20Count.md), Dolciani Mathematical Expositions, vol. 27, [Mathematical Association of America](Mathematical%20Association%20of%20America.md), [ISBN](ISBN.md) [978-0-88385-333-7](https://en.wikipedia.org/wiki/Special:BookSources/978-0-88385-333-7).
- <a id="CITEREFGlass2003"></a> Glass, Darren \(2003\), [_Read This: Proofs that Really Count_](http://www.maa.org/publications/maa-reviews/proofs-that-really-count), [Mathematical Association of America](Mathematical%20Association%20of%20America.md).
- <a id="CITEREFStanley1997"></a> [Stanley, Richard P.](Richard%20P.%20Stanley.md) \(1997\), _Enumerative Combinatorics, Volume I_, Cambridge Studies in Advanced Mathematics, vol. 49, Cambridge University Press, pp. 11–12, [ISBN](ISBN.md) [0-521-55309-1](https://en.wikipedia.org/wiki/Special:BookSources/0-521-55309-1).
