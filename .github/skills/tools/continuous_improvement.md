# Continuous improvement — tools skill

- **2026‑02‑22 consolidation:** this document was added as part of a
  repo‑wide effort to place continuous‑learning notes in every skill
  directory.

This document describes the feedback loop for continuously improving the
`tools` skill, which covers repository-wide utilities such as `init.py`,
`convert wiki.py`, `pack.py`, and `publish.py`.

## Feedback loop

1. Capture user feedback in a log file with date and brief description.
2. Draft minimal edits to this document and to any affected tool or
   documentation, citing the feedback.
3. Verify behaviour with the corresponding CLI command(s) and run
   `pnpm run check` / `pnpm run test` to ensure no regressions.
4. Present the change as a patch or PR for review before merging.

## Lessons learned (2026‑02‑22 and earlier)

- CLI stability is paramount: preserve argument names, defaults, and
  output formats.  Breaking changes must be documented and flagged in
  this log.
- **Encoding rule:** any schedule entries generated by tools should use
  full weekday names (e.g. `Monday`) rather than abbreviations; this
  makes downstream parsing easier.
- When a tool marks sessions `status: unscheduled`, it should not write a
  `topic:` field.  This convention prevents misleading placeholders and
  is enforced in the academic‑notes validator.
- Before packaging or publishing, always run `uv run -m init generate -C`
  to ensure generated content is fresh; forgetting this step has led to
  stale bundles in the past.
- Running `pnpm run check:md` on generated files helps catch duplicate
  headings and formatting issues early.
- Tools that modify Markdown (especially `init.py`) should exclude
  `.git`, `.obsidian`, and `tools` directories to avoid accidental
  edits; ensure this exclusion list is maintained when caching logic is
  changed.

Additional domain-specific notes can be appended here as new situations
arise.
